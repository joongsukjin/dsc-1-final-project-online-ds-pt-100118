
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{student}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \subsection{Final Project Submission}\label{final-project-submission}

Please fill out: * Student name: \textbf{Joongsuk Jin} * Student pace:
\textbf{Part Time} * Scheduled project review date/time: * Instructor
name: * Blog post URL:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{o}{\PYZpc{}}\PY{k}{matplotlib} inline
        \PY{n}{plt}\PY{o}{.}\PY{n}{style}\PY{o}{.}\PY{n}{use}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{seaborn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
        \PY{k+kn}{import} \PY{n+nn}{statsmodels}\PY{n+nn}{.}\PY{n+nn}{api} \PY{k}{as} \PY{n+nn}{sm}
        \PY{k+kn}{import} \PY{n+nn}{statsmodels}\PY{n+nn}{.}\PY{n+nn}{formula}\PY{n+nn}{.}\PY{n+nn}{api} \PY{k}{as} \PY{n+nn}{smf}
        \PY{k+kn}{import} \PY{n+nn}{statsmodels}\PY{n+nn}{.}\PY{n+nn}{stats}\PY{n+nn}{.}\PY{n+nn}{api} \PY{k}{as} \PY{n+nn}{sms}
        \PY{k+kn}{import} \PY{n+nn}{scipy}\PY{n+nn}{.}\PY{n+nn}{stats} \PY{k}{as} \PY{n+nn}{stats}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{linear\PYZus{}model} \PY{k}{import} \PY{n}{LinearRegression}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{train\PYZus{}test\PYZus{}split}
        \PY{k+kn}{import} \PY{n+nn}{datetime}
        \PY{k+kn}{from} \PY{n+nn}{sklearn} \PY{k}{import} \PY{n}{preprocessing}
\end{Verbatim}


    \subsection{Overview Plan}\label{overview-plan}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Exploratory Data Analysis - Data Visualization, Understanding Data
\item
  Clean Data - Null values, Duplicates values, Outlier values, Dummy
  Vairalbes, Data Types Change
\item
  Multi-colinearlity Analysis
\item
  Feature Normalization \& Scaling - Check Ligression Analysis
  Assumptions (Linearlity, Normality)
\item
  Ordinary Least Square Modeling - Feature Selection
\item
  Recursive Feature Elimination
\item
  Test Multiple Multivariate Linear Regression models
\item
  Model Validation
\item
  Conclusion
\end{enumerate}

    \subsubsection{1. EDA}\label{eda}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n}{data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{kc\PYZus{}house\PYZus{}data.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n}{data}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}3}]:}            id        date     price  bedrooms  bathrooms  sqft\_living  \textbackslash{}
        0  7129300520  10/13/2014  221900.0         3       1.00         1180   
        1  6414100192   12/9/2014  538000.0         3       2.25         2570   
        2  5631500400   2/25/2015  180000.0         2       1.00          770   
        3  2487200875   12/9/2014  604000.0         4       3.00         1960   
        4  1954400510   2/18/2015  510000.0         3       2.00         1680   
        
           sqft\_lot  floors  waterfront  view     {\ldots}      grade  sqft\_above  \textbackslash{}
        0      5650     1.0         NaN   0.0     {\ldots}          7        1180   
        1      7242     2.0         0.0   0.0     {\ldots}          7        2170   
        2     10000     1.0         0.0   0.0     {\ldots}          6         770   
        3      5000     1.0         0.0   0.0     {\ldots}          7        1050   
        4      8080     1.0         0.0   0.0     {\ldots}          8        1680   
        
           sqft\_basement yr\_built  yr\_renovated  zipcode      lat     long  \textbackslash{}
        0            0.0     1955           0.0    98178  47.5112 -122.257   
        1          400.0     1951        1991.0    98125  47.7210 -122.319   
        2            0.0     1933           NaN    98028  47.7379 -122.233   
        3          910.0     1965           0.0    98136  47.5208 -122.393   
        4            0.0     1987           0.0    98074  47.6168 -122.045   
        
           sqft\_living15  sqft\_lot15  
        0           1340        5650  
        1           1690        7639  
        2           2720        8062  
        3           1360        5000  
        4           1800        7503  
        
        [5 rows x 21 columns]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n}{data}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}4}]:}                  id         price      bedrooms     bathrooms   sqft\_living  \textbackslash{}
        count  2.159700e+04  2.159700e+04  21597.000000  21597.000000  21597.000000   
        mean   4.580474e+09  5.402966e+05      3.373200      2.115826   2080.321850   
        std    2.876736e+09  3.673681e+05      0.926299      0.768984    918.106125   
        min    1.000102e+06  7.800000e+04      1.000000      0.500000    370.000000   
        25\%    2.123049e+09  3.220000e+05      3.000000      1.750000   1430.000000   
        50\%    3.904930e+09  4.500000e+05      3.000000      2.250000   1910.000000   
        75\%    7.308900e+09  6.450000e+05      4.000000      2.500000   2550.000000   
        max    9.900000e+09  7.700000e+06     33.000000      8.000000  13540.000000   
        
                   sqft\_lot        floors    waterfront          view     condition  \textbackslash{}
        count  2.159700e+04  21597.000000  19221.000000  21534.000000  21597.000000   
        mean   1.509941e+04      1.494096      0.007596      0.233863      3.409825   
        std    4.141264e+04      0.539683      0.086825      0.765686      0.650546   
        min    5.200000e+02      1.000000      0.000000      0.000000      1.000000   
        25\%    5.040000e+03      1.000000      0.000000      0.000000      3.000000   
        50\%    7.618000e+03      1.500000      0.000000      0.000000      3.000000   
        75\%    1.068500e+04      2.000000      0.000000      0.000000      4.000000   
        max    1.651359e+06      3.500000      1.000000      4.000000      5.000000   
        
                      grade    sqft\_above      yr\_built  yr\_renovated       zipcode  \textbackslash{}
        count  21597.000000  21597.000000  21597.000000  17755.000000  21597.000000   
        mean       7.657915   1788.596842   1970.999676     83.636778  98077.951845   
        std        1.173200    827.759761     29.375234    399.946414     53.513072   
        min        3.000000    370.000000   1900.000000      0.000000  98001.000000   
        25\%        7.000000   1190.000000   1951.000000      0.000000  98033.000000   
        50\%        7.000000   1560.000000   1975.000000      0.000000  98065.000000   
        75\%        8.000000   2210.000000   1997.000000      0.000000  98118.000000   
        max       13.000000   9410.000000   2015.000000   2015.000000  98199.000000   
        
                        lat          long  sqft\_living15     sqft\_lot15  
        count  21597.000000  21597.000000   21597.000000   21597.000000  
        mean      47.560093   -122.213982    1986.620318   12758.283512  
        std        0.138552      0.140724     685.230472   27274.441950  
        min       47.155900   -122.519000     399.000000     651.000000  
        25\%       47.471100   -122.328000    1490.000000    5100.000000  
        50\%       47.571800   -122.231000    1840.000000    7620.000000  
        75\%       47.678000   -122.125000    2360.000000   10083.000000  
        max       47.777600   -121.315000    6210.000000  871200.000000  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{n}{data}\PY{o}{.}\PY{n}{columns}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}5}]:} Index(['id', 'date', 'price', 'bedrooms', 'bathrooms', 'sqft\_living',
               'sqft\_lot', 'floors', 'waterfront', 'view', 'condition', 'grade',
               'sqft\_above', 'sqft\_basement', 'yr\_built', 'yr\_renovated', 'zipcode',
               'lat', 'long', 'sqft\_living15', 'sqft\_lot15'],
              dtype='object')
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n}{data}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}6}]:} (21597, 21)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{data}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 21597 entries, 0 to 21596
Data columns (total 21 columns):
id               21597 non-null int64
date             21597 non-null object
price            21597 non-null float64
bedrooms         21597 non-null int64
bathrooms        21597 non-null float64
sqft\_living      21597 non-null int64
sqft\_lot         21597 non-null int64
floors           21597 non-null float64
waterfront       19221 non-null float64
view             21534 non-null float64
condition        21597 non-null int64
grade            21597 non-null int64
sqft\_above       21597 non-null int64
sqft\_basement    21597 non-null object
yr\_built         21597 non-null int64
yr\_renovated     17755 non-null float64
zipcode          21597 non-null int64
lat              21597 non-null float64
long             21597 non-null float64
sqft\_living15    21597 non-null int64
sqft\_lot15       21597 non-null int64
dtypes: float64(8), int64(11), object(2)
memory usage: 3.5+ MB

    \end{Verbatim}

    \paragraph{Based on the initial look at the data. Followings are
needed}\label{based-on-the-initial-look-at-the-data.-followings-are-needed}

\paragraph{- Data type}\label{data-type}

\paragraph{- Null value handling}\label{null-value-handling}

\paragraph{- Outlier handling}\label{outlier-handling}

    \subsubsection{a. Data Type / Null Value Clean
up}\label{a.-data-type-null-value-clean-up}

\paragraph{- Categorical Data Stored as Integers /
float64}\label{categorical-data-stored-as-integers-float64}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{data}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 21597 entries, 0 to 21596
Data columns (total 21 columns):
id               21597 non-null int64
date             21597 non-null object
price            21597 non-null float64
bedrooms         21597 non-null int64
bathrooms        21597 non-null float64
sqft\_living      21597 non-null int64
sqft\_lot         21597 non-null int64
floors           21597 non-null float64
waterfront       19221 non-null float64
view             21534 non-null float64
condition        21597 non-null int64
grade            21597 non-null int64
sqft\_above       21597 non-null int64
sqft\_basement    21597 non-null object
yr\_built         21597 non-null int64
yr\_renovated     17755 non-null float64
zipcode          21597 non-null int64
lat              21597 non-null float64
long             21597 non-null float64
sqft\_living15    21597 non-null int64
sqft\_lot15       21597 non-null int64
dtypes: float64(8), int64(11), object(2)
memory usage: 3.5+ MB

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{waterfront}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{waterfront}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
        \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{view}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{view}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
        \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{condition}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{condition}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{ordered}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
        \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grade}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grade}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{ordered}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
        \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{floors}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{floors}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{ordered}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
        
        \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{str}\PY{p}{)}
        \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{date}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{date}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{datetime64[ns]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        
        
        \PY{c+c1}{\PYZsh{} yr\PYZus{}renovated can not be converted to int since there are null values. it will be converted to int after removing nulls}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}ipykernel\_launcher.py:1: FutureWarning: specifying 'categories' or 'ordered' in .astype() is deprecated; pass a CategoricalDtype instead
  """Entry point for launching an IPython kernel.
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}ipykernel\_launcher.py:2: FutureWarning: specifying 'categories' or 'ordered' in .astype() is deprecated; pass a CategoricalDtype instead
  
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}ipykernel\_launcher.py:3: FutureWarning: specifying 'categories' or 'ordered' in .astype() is deprecated; pass a CategoricalDtype instead
  This is separate from the ipykernel package so we can avoid doing imports until
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}ipykernel\_launcher.py:4: FutureWarning: specifying 'categories' or 'ordered' in .astype() is deprecated; pass a CategoricalDtype instead
  after removing the cwd from sys.path.
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}ipykernel\_launcher.py:5: FutureWarning: specifying 'categories' or 'ordered' in .astype() is deprecated; pass a CategoricalDtype instead
  """

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{int}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{c+c1}{\PYZsh{} in order to make the price whole number}
\end{Verbatim}


    \paragraph{- Null Value Clean up}\label{null-value-clean-up}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{n}{data}\PY{p}{[}\PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}basement}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{errors}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coerce}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}11}]:}                id       date    price  bedrooms  bathrooms  sqft\_living  \textbackslash{}
         6      1321400060 2014-06-27   257500         3       2.25         1715   
         18       16000397 2014-12-05   189000         2       1.00         1200   
         42     7203220400 2014-07-07   861990         5       2.75         3595   
         79     1531000030 2015-03-23   720000         4       2.50         3450   
         112    2525310310 2014-09-16   272500         3       1.75         1540   
         115    3626039325 2014-11-21   740500         3       3.50         4380   
         217    1909600046 2014-07-03   445838         3       2.50         2250   
         309    3204800200 2015-01-08   665000         4       2.75         3320   
         384     713500030 2014-07-28  1350000         5       3.50         4800   
         508    5113400431 2014-05-08   615000         2       1.00         1540   
         633    8832900550 2014-09-12   650000         3       2.50         2690   
         645    1545804340 2015-04-09   240000         3       1.75         1760   
         664    1775920350 2014-11-24   323000         3       1.00         1290   
         671    5101405124 2014-09-12   435000         4       2.50         1700   
         685    2346200030 2015-01-05   802541         5       2.75         2990   
         755    5149300200 2014-09-02   316500         3       1.75         1600   
         881    7749500370 2014-10-21   225000         4       2.25         1800   
         890    1962200435 2014-11-10  1010000         4       1.00         1820   
         995    8856004730 2014-09-17   199950         2       2.75         1590   
         1073   9209900270 2015-02-05   515000         2       1.00         1060   
         1105   2505500030 2014-07-03  1130000         4       2.50         3160   
         1205    194000505 2014-09-04   651000         3       2.00         1940   
         1354   3904940070 2015-02-27   643000         4       2.50         2270   
         1356   5589300370 2015-04-01   282000         4       1.00         1200   
         1366   3905000340 2014-07-24   672000         4       2.50         2440   
         1476   2412600030 2014-06-23   235000         6       3.00         2180   
         1558   1972201820 2014-10-16   610000         4       2.00         2130   
         1600   3623500135 2015-03-26   800000         4       2.25         2350   
         1662     65000260 2014-08-20   830000         3       2.50         3370   
         1669   1785500132 2014-11-18   293000         3       1.00         1020   
         {\ldots}           {\ldots}        {\ldots}      {\ldots}       {\ldots}        {\ldots}          {\ldots}   
         20275  9478550430 2015-04-29   316475         4       2.50         1740   
         20333  7502800050 2014-07-09   659950         4       2.75         3510   
         20510  2902200142 2014-06-05   584000         3       2.50         1480   
         20553  8895800110 2014-08-05  1300000         5       4.00         3870   
         20554  3879900750 2014-09-10   579000         2       2.50         1280   
         20676  3274800505 2015-04-24   502000         3       2.50         1600   
         20702  8850000517 2014-07-31   480000         3       2.50         1590   
         20741  3022900070 2014-09-29   348000         3       2.00         2360   
         20766  3013300685 2015-03-18   760000         4       3.25         2690   
         20853  6130500120 2015-04-17   428000         3       2.50         1650   
         20903  9578140180 2014-06-11   329950         3       2.50         2456   
         20929  2568200120 2014-12-15   730000         5       2.75         2870   
         20931  2767601750 2014-08-15   500000         3       1.50         1220   
         20934  1689401526 2015-03-23   605000         3       2.50         1500   
         20992  9274200322 2014-08-20   580000         3       2.50         1740   
         21000   291310180 2014-06-13   379500         3       2.25         1410   
         21017  7203230040 2014-10-27  1050000         5       3.25         4240   
         21087  8564860130 2015-02-02   598992         5       3.50         3440   
         21109  3438500250 2014-06-23   515000         5       3.25         2910   
         21210  3278600680 2014-06-27   235000         1       1.50         1170   
         21236  2309710130 2014-07-15   272000         4       2.00         1870   
         21248  2838000130 2015-02-13   722000         3       2.50         2230   
         21356  6169901185 2014-05-20   490000         5       3.50         4460   
         21357  2309710150 2014-08-04   325000         4       3.25         2800   
         21365  9521100301 2014-05-07   339950         2       1.00          820   
         21442  3226049565 2014-07-11   504600         5       3.00         2360   
         21447  1760650900 2014-07-21   337500         4       2.50         2330   
         21473  6021503707 2015-01-20   352500         2       2.50          980   
         21519  2909310100 2014-10-15   332000         4       2.50         2380   
         21581   191100405 2015-04-21  1580000         4       3.25         3410   
         
                sqft\_lot floors waterfront view     {\ldots}     grade sqft\_above  \textbackslash{}
         6          6819    2.0        0.0  0.0     {\ldots}         7       1715   
         18         9850    1.0        0.0  0.0     {\ldots}         7       1200   
         42         5639    2.0        0.0  0.0     {\ldots}         9       3595   
         79        39683    2.0        0.0  0.0     {\ldots}        10       3450   
         112       12600    1.0        0.0  0.0     {\ldots}         7       1160   
         115        6350    2.0        0.0  0.0     {\ldots}         8       2780   
         217        5692    2.0        0.0  0.0     {\ldots}         8       2250   
         309       10574    2.0        NaN  0.0     {\ldots}         8       2220   
         384       14984    2.0        0.0  2.0     {\ldots}        11       3480   
         508        6872    1.0        0.0  0.0     {\ldots}         7        820   
         633       11575    1.0        0.0  3.0     {\ldots}         8       2130   
         645        6500    1.0        0.0  0.0     {\ldots}         7       1150   
         664       12231    1.0        0.0  0.0     {\ldots}         7       1290   
         671        6380    1.0        0.0  0.0     {\ldots}         7        850   
         685        6768    2.0        0.0  0.0     {\ldots}         9       2990   
         755       14250    1.0        0.0  0.0     {\ldots}         7       1070   
         881        9350    1.0        0.0  0.0     {\ldots}         8       1800   
         890        5400    1.5        NaN  0.0     {\ldots}         8       1820   
         995       20917    1.5        0.0  0.0     {\ldots}         5       1590   
         1073       4228    1.0        0.0  0.0     {\ldots}         7        860   
         1105       8281    2.0        0.0  0.0     {\ldots}         9       3160   
         1205       6440    1.0        0.0  2.0     {\ldots}         7        970   
         1354       8391    2.0        0.0  0.0     {\ldots}         8       2270   
         1356      11111    1.5        0.0  0.0     {\ldots}         7       1200   
         1366      10049    2.0        NaN  0.0     {\ldots}         9       2440   
         1476       7956    2.0        0.0  0.0     {\ldots}         7       2180   
         1558       2620    1.5        0.0  0.0     {\ldots}         7       1650   
         1600      10664    1.0        0.0  1.0     {\ldots}         7       1510   
         1662       6550    2.0        0.0  2.0     {\ldots}         8       2840   
         1669       7650    1.0        0.0  0.0     {\ldots}         7       1020   
         {\ldots}         {\ldots}    {\ldots}        {\ldots}  {\ldots}     {\ldots}       {\ldots}        {\ldots}   
         20275      4642    2.0        0.0  0.0     {\ldots}         7       1740   
         20333      9400    2.0        0.0  0.0     {\ldots}         9       3510   
         20510      1485    2.0        NaN  0.0     {\ldots}         8       1280   
         20553      5929    2.0        0.0  0.0     {\ldots}        10       3870   
         20554      1051    2.0        0.0  0.0     {\ldots}         8       1080   
         20676      3073    3.0        0.0  0.0     {\ldots}         8       1600   
         20702      1431    2.0        0.0  0.0     {\ldots}         8       1060   
         20741      6145    1.0        0.0  0.0     {\ldots}         8       2360   
         20766      3995    2.0        NaN  0.0     {\ldots}         9       2060   
         20853      2201    3.0        0.0  0.0     {\ldots}         8       1650   
         20903      7566    2.0        0.0  0.0     {\ldots}         8       2456   
         20929      6593    2.0        0.0  0.0     {\ldots}         9       2870   
         20931       962    3.0        0.0  0.0     {\ldots}         8       1220   
         20934      1119    3.0        0.0  2.0     {\ldots}         7       1110   
         20992      1236    3.0        0.0  2.0     {\ldots}         8       1740   
         21000      1287    2.0        0.0  0.0     {\ldots}         7       1290   
         21017      9588    2.0        0.0  0.0     {\ldots}         9       4240   
         21087      6037    2.0        0.0  0.0     {\ldots}         9       3440   
         21109      5027    2.0        0.0  0.0     {\ldots}         8       2040   
         21210      1456    2.0        0.0  0.0     {\ldots}         8       1070   
         21236      6551    1.0        NaN  3.0     {\ldots}         7       1870   
         21248      4850    2.0        0.0  0.0     {\ldots}         8       2230   
         21356      2975    3.0        0.0  2.0     {\ldots}        10       3280   
         21357      5291    2.0        0.0  0.0     {\ldots}         7       2800   
         21365       681    3.0        0.0  0.0     {\ldots}         8        820   
         21442      5000    1.0        0.0  0.0     {\ldots}         7       1390   
         21447      4907    2.0        0.0  0.0     {\ldots}         7       2330   
         21473      1010    3.0        NaN  0.0     {\ldots}         8        980   
         21519      5737    2.0        0.0  0.0     {\ldots}         7       2380   
         21581     10125    2.0        0.0  0.0     {\ldots}        10       3410   
         
                sqft\_basement yr\_built  yr\_renovated  zipcode      lat     long  \textbackslash{}
         6                  ?     1995           0.0    98003  47.3097 -122.327   
         18                 ?     1921           0.0    98002  47.3089 -122.210   
         42                 ?     2014           0.0    98053  47.6848 -122.016   
         79                 ?     2002           0.0    98010  47.3420 -122.025   
         112                ?     1980           0.0    98038  47.3624 -122.031   
         115                ?     1900           NaN    98117  47.6981 -122.368   
         217                ?     2000           0.0    98146  47.5133 -122.379   
         309                ?     1960           0.0    98056  47.5376 -122.180   
         384                ?     1998           0.0    98006  47.5543 -122.148   
         508                ?     1946           0.0    98119  47.6454 -122.373   
         633                ?     1957           0.0    98028  47.7605 -122.267   
         645                ?     1987           0.0    98038  47.3647 -122.050   
         664                ?     1976           0.0    98072  47.7404 -122.110   
         671                ?     1940           0.0    98115  47.6988 -122.319   
         685                ?     2014           0.0    98006  47.5462 -122.182   
         755                ?     1979           0.0    98023  47.3272 -122.355   
         881                ?     1969           0.0    98092  47.2959 -122.191   
         890                ?     1923        2014.0    98102  47.6476 -122.318   
         995                ?     1920           NaN    98001  47.2786 -122.250   
         1073               ?     1906           0.0    98112  47.6231 -122.293   
         1105               ?     1995           NaN    98033  47.6699 -122.195   
         1205               ?     1940           0.0    98116  47.5664 -122.389   
         1354               ?     1988           NaN    98029  47.5740 -122.013   
         1356               ?     1949           0.0    98155  47.7529 -122.306   
         1366               ?     1989           0.0    98029  47.5744 -121.993   
         1476               ?     1980           0.0    98003  47.3054 -122.305   
         1558               ?     1919           NaN    98103  47.6515 -122.346   
         1600               ?     1952           0.0    98040  47.5743 -122.238   
         1662               ?     1912        2001.0    98126  47.5442 -122.380   
         1669               ?     1940           0.0    98133  47.7198 -122.352   
         {\ldots}              {\ldots}      {\ldots}           {\ldots}      {\ldots}      {\ldots}      {\ldots}   
         20275              ?     2012           NaN    98042  47.3686 -122.117   
         20333              ?     2014           NaN    98059  47.4827 -122.131   
         20510              ?     2007           0.0    98102  47.6376 -122.326   
         20553              ?     2014           NaN    98052  47.6965 -122.134   
         20554              ?     2009           0.0    98119  47.6273 -122.359   
         20676              ?     2009           0.0    98144  47.5934 -122.298   
         20702              ?     2010           0.0    98144  47.5893 -122.309   
         20741              ?     2011           0.0    98030  47.3564 -122.198   
         20766              ?     2014           0.0    98136  47.5320 -122.384   
         20853              ?     2007           0.0    98133  47.7108 -122.333   
         20903              ?     2012           0.0    98023  47.2970 -122.351   
         20929              ?     2006           0.0    98052  47.7075 -122.102   
         20931              ?     2014           0.0    98107  47.6740 -122.387   
         20934              ?     2008           NaN    98109  47.6327 -122.346   
         20992              ?     2008           0.0    98116  47.5891 -122.387   
         21000              ?     2005           0.0    98027  47.5344 -122.068   
         21017              ?     2014           0.0    98053  47.6901 -122.018   
         21087              ?     2014           0.0    98045  47.4765 -121.734   
         21109              ?     2013           0.0    98106  47.5543 -122.359   
         21210              ?     2007           0.0    98126  47.5493 -122.372   
         21236              ?     2009           0.0    98022  47.1934 -121.977   
         21248              ?     2014           NaN    98133  47.7295 -122.334   
         21356              ?     2015           NaN    98119  47.6313 -122.370   
         21357              ?     2011           0.0    98022  47.1937 -121.977   
         21365              ?     2006           0.0    98103  47.6619 -122.352   
         21442              ?     2008           0.0    98103  47.6931 -122.330   
         21447              ?     2013           NaN    98042  47.3590 -122.081   
         21473              ?     2008           0.0    98117  47.6844 -122.387   
         21519              ?     2010           0.0    98023  47.2815 -122.356   
         21581              ?     2007           NaN    98040  47.5653 -122.223   
         
                sqft\_living15  sqft\_lot15  
         6               2238        6819  
         18              1060        5095  
         42              3625        5639  
         79              3350       39750  
         112             1540       11656  
         115             1830        6350  
         217             1320        5390  
         309             2720        8330  
         384             4050       19009  
         508             1420        5538  
         633             2390       11782  
         645             1760        8125  
         664             1390       11632  
         671             1380        6380  
         685             2870        6768  
         755             2140       14960  
         881             2060        8800  
         890             1820        5400  
         995             1310        6000  
         1073            1060        4187  
         1105            3000        8281  
         1205            1730        4640  
         1354            2420        8391  
         1356            1350        9113  
         1366            2820        8484  
         1476            2214        7684  
         1558            1330        2719  
         1600            2350       10140  
         1662            1500        6550  
         1669            1440        7650  
         {\ldots}              {\ldots}         {\ldots}  
         20275           1950        4642  
         20333           3550        9429  
         20510           1470        1277  
         20553           3600        5625  
         20554           1580        1279  
         20676           1130        2921  
         20702           1620        1548  
         20741           2304        5880  
         20766           1810        4590  
         20853           1650        1965  
         20903           2478        7212  
         20929           3150        6593  
         20931           1510        2501  
         20934           1500        1057  
         20992           1740        1280  
         21000           1490        1435  
         21017           4080        8425  
         21087           3270        6037  
         21109           2910        5027  
         21210           1360        1730  
         21236           2280        5331  
         21248           2230        4513  
         21356           2490        4231  
         21357           2380        5291  
         21365            820        1156  
         21442           2180        5009  
         21447           2300        3836  
         21473            980        1023  
         21519           2380        5396  
         21581           2290       10125  
         
         [454 rows x 21 columns]
\end{Verbatim}
            
    \paragraph{\texorpdfstring{- Identified values of "?" in
\emph{sqft\_basement}}{- Identified values of "?" in sqft\_basement}}\label{identified-values-of-in-sqft_basement}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{n+nb}{len}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}basement}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{errors}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coerce}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{p}{]}\PY{p}{)} \PY{o}{/}\PY{n+nb}{len}\PY{p}{(}\PY{n}{data}\PY{p}{)} \PY{o}{*} \PY{l+m+mi}{100}  \PY{c+c1}{\PYZsh{} 2\PYZpc{} seems small portion to drop}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}12}]:} 2.1021438162707784
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{n}{data}\PY{o}{.}\PY{n}{sqft\PYZus{}basement}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}13}]:} count     21597
         unique      304
         top         0.0
         freq      12826
         Name: sqft\_basement, dtype: object
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{n}{data}\PY{o}{.}\PY{n}{sqft\PYZus{}basement}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{} there are so many 0 values and ?. }
                                         \PY{c+c1}{\PYZsh{}We need to remove ? and create dummy variables to distinguish houses with basement without basement}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}14}]:} 0.0       12826
         ?           454
         600.0       217
         500.0       209
         700.0       208
         800.0       201
         400.0       184
         1000.0      148
         300.0       142
         900.0       142
         200.0       105
         750.0       104
         450.0       103
         480.0       103
         530.0       103
         720.0        98
         620.0        90
         580.0        84
         840.0        83
         420.0        81
         860.0        79
         670.0        78
         1100.0       78
         550.0        76
         780.0        76
         650.0        75
         240.0        74
         680.0        73
         380.0        73
         850.0        72
                   {\ldots}  
         556.0         1
         1990.0        1
         172.0         1
         2240.0        1
         2730.0        1
         2390.0        1
         508.0         1
         1481.0        1
         1135.0        1
         2310.0        1
         1880.0        1
         2130.0        1
         861.0         1
         2610.0        1
         768.0         1
         1913.0        1
         2190.0        1
         207.0         1
         176.0         1
         3000.0        1
         1281.0        1
         65.0          1
         2490.0        1
         875.0         1
         2500.0        1
         652.0         1
         2350.0        1
         1770.0        1
         1548.0        1
         283.0         1
         Name: sqft\_basement, Length: 304, dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{n}{data} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}basement}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{errors}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coerce}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{notna}\PY{p}{(}\PY{p}{)}\PY{p}{]}
\end{Verbatim}


    \paragraph{\texorpdfstring{? vlaues in \emph{sqft\_basement} columns are
removed}{? vlaues in sqft\_basement columns are removed}}\label{vlaues-in-sqft_basement-columns-are-removed}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{n}{data}\PY{o}{.}\PY{n}{sqft\PYZus{}basement} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{sqft\PYZus{}basement}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{float}\PY{p}{)}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{int}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{n}{data}\PY{o}{.}\PY{n}{sqft\PYZus{}basement}\PY{o}{.}\PY{n}{dtype}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}17}]:} dtype('int32')
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{n}{data}\PY{o}{.}\PY{n}{sqft\PYZus{}basement}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}18}]:} 0      0
         1    400
         2      0
         3    910
         4      0
         Name: sqft\_basement, dtype: int32
\end{Verbatim}
            
    \paragraph{\texorpdfstring{- converted \emph{sqft\_basement} into
integer}{- converted sqft\_basement into integer}}\label{converted-sqft_basement-into-integer}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{n}{data}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{}Confirm all the variables data type is changed to \PYZsq{}category\PYZsq{}}
                     \PY{c+c1}{\PYZsh{}sqft\PYZus{}basement data type changed to \PYZsq{}int\PYZsq{}}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
Int64Index: 21143 entries, 0 to 21596
Data columns (total 21 columns):
id               21143 non-null int64
date             21143 non-null datetime64[ns]
price            21143 non-null int32
bedrooms         21143 non-null int64
bathrooms        21143 non-null float64
sqft\_living      21143 non-null int64
sqft\_lot         21143 non-null int64
floors           21143 non-null category
waterfront       18804 non-null category
view             21082 non-null category
condition        21143 non-null category
grade            21143 non-null category
sqft\_above       21143 non-null int64
sqft\_basement    21143 non-null int32
yr\_built         21143 non-null int64
yr\_renovated     17389 non-null float64
zipcode          21143 non-null object
lat              21143 non-null float64
long             21143 non-null float64
sqft\_living15    21143 non-null int64
sqft\_lot15       21143 non-null int64
dtypes: category(5), datetime64[ns](1), float64(4), int32(2), int64(8), object(1)
memory usage: 2.7+ MB

    \end{Verbatim}

    \paragraph{- Null values}\label{null-values}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} \PY{k+kn}{from} \PY{n+nn}{IPython}\PY{n+nn}{.}\PY{n+nn}{display} \PY{k}{import} \PY{n}{display}
         \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}columns} \PY{o}{=} \PY{k+kc}{None}
         
         \PY{n}{display}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
           id       date   price  bedrooms  bathrooms  sqft_living  sqft_lot  \
0  7129300520 2014-10-13  221900         3       1.00         1180      5650   
1  6414100192 2014-12-09  538000         3       2.25         2570      7242   
2  5631500400 2015-02-25  180000         2       1.00          770     10000   
3  2487200875 2014-12-09  604000         4       3.00         1960      5000   
4  1954400510 2015-02-18  510000         3       2.00         1680      8080   

  floors waterfront view condition grade  sqft_above  sqft_basement  yr_built  \
0    1.0        NaN  0.0         3     7        1180              0      1955   
1    2.0        0.0  0.0         3     7        2170            400      1951   
2    1.0        0.0  0.0         3     6         770              0      1933   
3    1.0        0.0  0.0         5     7        1050            910      1965   
4    1.0        0.0  0.0         3     8        1680              0      1987   

   yr_renovated zipcode      lat     long  sqft_living15  sqft_lot15  
0           0.0   98178  47.5112 -122.257           1340        5650  
1        1991.0   98125  47.7210 -122.319           1690        7639  
2           NaN   98028  47.7379 -122.233           2720        8062  
3           0.0   98136  47.5208 -122.393           1360        5000  
4           0.0   98074  47.6168 -122.045           1800        7503  
    \end{verbatim}

    
    \paragraph{\texorpdfstring{There are 3 columns with null values
\emph{watetfront, view,
yr\_renovated}}{There are 3 columns with null values watetfront, view, yr\_renovated}}\label{there-are-3-columns-with-null-values-watetfront-view-yr_renovated}

\paragraph{Let's investigate each column with null
values.}\label{lets-investigate-each-column-with-null-values.}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{n}{data}\PY{o}{.}\PY{n}{waterfront}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}21}]:} 0.0    18662
         1.0      142
         Name: waterfront, dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{n+nb}{len}\PY{p}{(}\PY{n}{data}\PY{p}{)} \PY{o}{\PYZhy{}} \PY{n}{data}\PY{o}{.}\PY{n}{waterfront}\PY{o}{.}\PY{n}{count}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{}number of null values for waterfront}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}22}]:} 2339
\end{Verbatim}
            
    \paragraph{2376/21597 = 11\% of data is a significant amount of data.
So, we should lable 'NaN' as a one
category}\label{of-data-is-a-significant-amount-of-data.-so-we-should-lable-nan-as-a-one-category}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}23}]:} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{waterfront}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{NaN}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NaN}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{n}{data}\PY{o}{.}\PY{n}{isna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{} check if \PYZdq{}NaN\PYZdq{} category is created (waterfront null value zero! yes)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}24}]:} id                  0
         date                0
         price               0
         bedrooms            0
         bathrooms           0
         sqft\_living         0
         sqft\_lot            0
         floors              0
         waterfront          0
         view               61
         condition           0
         grade               0
         sqft\_above          0
         sqft\_basement       0
         yr\_built            0
         yr\_renovated     3754
         zipcode             0
         lat                 0
         long                0
         sqft\_living15       0
         sqft\_lot15          0
         dtype: int64
\end{Verbatim}
            
    \paragraph{\texorpdfstring{Same process for \emph{view}
column}{Same process for view column}}\label{same-process-for-view-column}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}25}]:} \PY{n}{data}\PY{o}{.}\PY{n}{view}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}25}]:} 0.0    19018
         2.0      930
         3.0      496
         1.0      327
         4.0      311
         Name: view, dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}26}]:} \PY{n+nb}{len}\PY{p}{(}\PY{n}{data}\PY{p}{)} \PY{o}{\PYZhy{}} \PY{n}{data}\PY{o}{.}\PY{n}{view}\PY{o}{.}\PY{n}{count}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{}number of null vlaues }
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}26}]:} 61
\end{Verbatim}
            
    \paragraph{61 is 0.32\% of the data. I would drop the rows as it is
insignificant portion compare to the whole data
set.}\label{is-0.32-of-the-data.-i-would-drop-the-rows-as-it-is-insignificant-portion-compare-to-the-whole-data-set.}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}27}]:} \PY{n}{data} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{n}{pd}\PY{o}{.}\PY{n}{notnull}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{view}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}28}]:} \PY{n}{data}\PY{o}{.}\PY{n}{isna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{} no more null values in view column}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}28}]:} id                  0
         date                0
         price               0
         bedrooms            0
         bathrooms           0
         sqft\_living         0
         sqft\_lot            0
         floors              0
         waterfront          0
         view                0
         condition           0
         grade               0
         sqft\_above          0
         sqft\_basement       0
         yr\_built            0
         yr\_renovated     3742
         zipcode             0
         lat                 0
         long                0
         sqft\_living15       0
         sqft\_lot15          0
         dtype: int64
\end{Verbatim}
            
    \paragraph{\texorpdfstring{Same process for
\emph{yr\_renovated}}{Same process for yr\_renovated}}\label{same-process-for-yr_renovated}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}29}]:} \PY{n}{data}\PY{o}{.}\PY{n}{isna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}29}]:} id                  0
         date                0
         price               0
         bedrooms            0
         bathrooms           0
         sqft\_living         0
         sqft\_lot            0
         floors              0
         waterfront          0
         view                0
         condition           0
         grade               0
         sqft\_above          0
         sqft\_basement       0
         yr\_built            0
         yr\_renovated     3742
         zipcode             0
         lat                 0
         long                0
         sqft\_living15       0
         sqft\_lot15          0
         dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}30}]:}  \PY{n}{data}\PY{o}{.}\PY{n}{yr\PYZus{}renovated}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{} there are 16961 values fro 0.0}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}30}]:} 0.0       16618
         2014.0       69
         2003.0       31
         2013.0       31
         2007.0       30
         2000.0       29
         2005.0       29
         1990.0       22
         2009.0       21
         2004.0       21
         2006.0       20
         1989.0       18
         2002.0       17
         1998.0       15
         1999.0       15
         2008.0       15
         1983.0       15
         1984.0       15
         2015.0       14
         1985.0       14
         1986.0       14
         1987.0       14
         1991.0       14
         2010.0       14
         1992.0       13
         1994.0       13
         2001.0       12
         1997.0       12
         1996.0       11
         1995.0       11
                   {\ldots}  
         1968.0        6
         1964.0        5
         1975.0        5
         1973.0        4
         1965.0        4
         1981.0        4
         1969.0        4
         1978.0        3
         1963.0        3
         1960.0        3
         1958.0        3
         1956.0        3
         1955.0        3
         1972.0        3
         1945.0        2
         1962.0        2
         1967.0        2
         1974.0        2
         1957.0        2
         1940.0        2
         1951.0        1
         1948.0        1
         1950.0        1
         1976.0        1
         1954.0        1
         1953.0        1
         1944.0        1
         1934.0        1
         1971.0        1
         1959.0        1
         Name: yr\_renovated, Length: 69, dtype: int64
\end{Verbatim}
            
    \paragraph{It apprears that 0 value indicates houses without any
renovation history, whereas, the values with year information indicate
that the houses are
renovated.}\label{it-apprears-that-0-value-indicates-houses-without-any-renovation-history-whereas-the-values-with-year-information-indicate-that-the-houses-are-renovated.}

    \paragraph{This raises a question. Although there is not null values.
How do we know if the values are legit? what if weired random values are
entered? or outliers messing up the distribution
etc}\label{this-raises-a-question.-although-there-is-not-null-values.-how-do-we-know-if-the-values-are-legit-what-if-weired-random-values-are-entered-or-outliers-messing-up-the-distribution-etc}

\paragraph{We can graph the plots with each columns to
investigate}\label{we-can-graph-the-plots-with-each-columns-to-investigate}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}31}]:} \PY{c+c1}{\PYZsh{} without discrete variables and Lat, Long variables}
         \PY{n}{sns}\PY{o}{.}\PY{n}{jointplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sqft\PYZus{}living}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{,} \PY{n}{kind} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reg}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{size} \PY{o}{=} \PY{l+m+mi}{5}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{jointplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sqft\PYZus{}lot}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{,} \PY{n}{kind} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reg}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{size} \PY{o}{=} \PY{l+m+mi}{5}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{jointplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sqft\PYZus{}above}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{,} \PY{n}{kind} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reg}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{size} \PY{o}{=} \PY{l+m+mi}{5}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{jointplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sqft\PYZus{}basement}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{,} \PY{n}{kind} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reg}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{size} \PY{o}{=} \PY{l+m+mi}{5}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{jointplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sqft\PYZus{}living15}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{,} \PY{n}{kind} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reg}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{size} \PY{o}{=} \PY{l+m+mi}{5}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{jointplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sqft\PYZus{}lot15}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{,} \PY{n}{kind} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reg}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{size} \PY{o}{=} \PY{l+m+mi}{5}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{jointplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{yr\PYZus{}built}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{,} \PY{n}{kind} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reg}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{size} \PY{o}{=} \PY{l+m+mi}{5}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{jointplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{yr\PYZus{}renovated}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{,} \PY{n}{kind} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reg}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{size} \PY{o}{=} \PY{l+m+mi}{5}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}\PY{p}{;}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}seaborn\textbackslash{}axisgrid.py:2262: UserWarning: The `size` paramter has been renamed to `height`; please update your code.
  warnings.warn(msg, UserWarning)
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}scipy\textbackslash{}stats\textbackslash{}stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}seaborn\textbackslash{}axisgrid.py:2262: UserWarning: The `size` paramter has been renamed to `height`; please update your code.
  warnings.warn(msg, UserWarning)
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}seaborn\textbackslash{}axisgrid.py:2262: UserWarning: The `size` paramter has been renamed to `height`; please update your code.
  warnings.warn(msg, UserWarning)
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}seaborn\textbackslash{}axisgrid.py:2262: UserWarning: The `size` paramter has been renamed to `height`; please update your code.
  warnings.warn(msg, UserWarning)
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}seaborn\textbackslash{}axisgrid.py:2262: UserWarning: The `size` paramter has been renamed to `height`; please update your code.
  warnings.warn(msg, UserWarning)
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}seaborn\textbackslash{}axisgrid.py:2262: UserWarning: The `size` paramter has been renamed to `height`; please update your code.
  warnings.warn(msg, UserWarning)
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}seaborn\textbackslash{}axisgrid.py:2262: UserWarning: The `size` paramter has been renamed to `height`; please update your code.
  warnings.warn(msg, UserWarning)
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}seaborn\textbackslash{}axisgrid.py:2262: UserWarning: The `size` paramter has been renamed to `height`; please update your code.
  warnings.warn(msg, UserWarning)

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_47_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_47_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_47_3.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_47_4.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_47_5.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_47_6.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_47_7.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_47_8.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \paragraph{While most of the grpahs show linear
relationships,}\label{while-most-of-the-grpahs-show-linear-relationships}

\paragraph{\texorpdfstring{\emph{sqft\_lot, sqft\_lot15 and yr\_built,
and yr\_renovated} seem to be poorly related to
price.}{sqft\_lot, sqft\_lot15 and yr\_built, and yr\_renovated seem to be poorly related to price.}}\label{sqft_lot-sqft_lot15-and-yr_built-and-yr_renovated-seem-to-be-poorly-related-to-price.}

\paragraph{We can see that there is a lot of zeros in the sqft\_basement
distribution (i.e., no basement). Similarly, there is a lot of zeros in
the yr\_renovated variable. Let's first take care of the two variables,
using dummy
variables}\label{we-can-see-that-there-is-a-lot-of-zeros-in-the-sqft_basement-distribution-i.e.-no-basement.-similarly-there-is-a-lot-of-zeros-in-the-yr_renovated-variable.-lets-first-take-care-of-the-two-variables-using-dummy-variables}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}32}]:} \PY{c+c1}{\PYZsh{} Create 2 new columns for the analysis. Basically without zeros.}
         \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}basement2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}basement}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x} \PY{k}{if} \PY{n}{x} \PY{o}{\PYZgt{}} \PY{l+m+mi}{0} \PY{k}{else} \PY{k+kc}{None}\PY{p}{)}
         \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yr\PYZus{}renovated2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yr\PYZus{}renovated}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x} \PY{k}{if} \PY{n}{x} \PY{o}{\PYZgt{}} \PY{l+m+mi}{0} \PY{k}{else} \PY{k+kc}{None}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} Show the new plots with paerson correlation}
         \PY{n}{sns}\PY{o}{.}\PY{n}{jointplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sqft\PYZus{}basement2}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{,} \PY{n}{kind} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reg}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{dropna}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{size} \PY{o}{=} \PY{l+m+mi}{5}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{jointplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{yr\PYZus{}renovated2}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{,} \PY{n}{kind} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reg}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{dropna}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{size} \PY{o}{=} \PY{l+m+mi}{5}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}seaborn\textbackslash{}axisgrid.py:2262: UserWarning: The `size` paramter has been renamed to `height`; please update your code.
  warnings.warn(msg, UserWarning)
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}scipy\textbackslash{}stats\textbackslash{}stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}seaborn\textbackslash{}axisgrid.py:2262: UserWarning: The `size` paramter has been renamed to `height`; please update your code.
  warnings.warn(msg, UserWarning)

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_49_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_49_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \paragraph{It looks a lot better! They seem to be more correlated. Now I
am going to create dummy
columns.}\label{it-looks-a-lot-better-they-seem-to-be-more-correlated.-now-i-am-going-to-create-dummy-columns.}

    \subsubsection{One-hot encodng categorical
columns}\label{one-hot-encodng-categorical-columns}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}33}]:} \PY{c+c1}{\PYZsh{} For analysis purpose, create additional columns indicating if a house has basement or if a house has been renovated.}
         
         \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{basement\PYZus{}present}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}basement}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{l+m+mi}{1} \PY{k}{if} \PY{n}{x} \PY{o}{\PYZgt{}} \PY{l+m+mi}{0} \PY{k}{else} \PY{l+m+mi}{0}\PY{p}{)}
         \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{basement\PYZus{}present}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{basement\PYZus{}present}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ordered} \PY{o}{=} \PY{k+kc}{False}\PY{p}{)}
         
         \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{renovated}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yr\PYZus{}renovated}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{l+m+mi}{1} \PY{k}{if} \PY{n}{x} \PY{o}{\PYZgt{}} \PY{l+m+mi}{0} \PY{k}{else} \PY{l+m+mi}{0}\PY{p}{)}
         \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{renovated}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{renovated}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ordered} \PY{o}{=} \PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}ipykernel\_launcher.py:4: FutureWarning: specifying 'categories' or 'ordered' in .astype() is deprecated; pass a CategoricalDtype instead
  after removing the cwd from sys.path.
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}ipykernel\_launcher.py:7: FutureWarning: specifying 'categories' or 'ordered' in .astype() is deprecated; pass a CategoricalDtype instead
  import sys

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}34}]:} \PY{n}{data}\PY{o}{.}\PY{n}{isna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)} 
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}34}]:} id                      0
         date                    0
         price                   0
         bedrooms                0
         bathrooms               0
         sqft\_living             0
         sqft\_lot                0
         floors                  0
         waterfront              0
         view                    0
         condition               0
         grade                   0
         sqft\_above              0
         sqft\_basement           0
         yr\_built                0
         yr\_renovated         3742
         zipcode                 0
         lat                     0
         long                    0
         sqft\_living15           0
         sqft\_lot15              0
         sqft\_basement2      12798
         yr\_renovated2       20360
         basement\_present        0
         renovated               0
         dtype: int64
\end{Verbatim}
            
    \subsubsection{3. Checking for
Multicollineartiy}\label{checking-for-multicollineartiy}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}35}]:} \PY{c+c1}{\PYZsh{} id, date column seems unnecessary}
         
         \PY{n}{data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}36}]:} \PY{c+c1}{\PYZsh{} drop date column}
         \PY{n}{data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{date}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}37}]:} \PY{c+c1}{\PYZsh{} drop long and lat columns, Zipcode can provide enough location information}
         \PY{n}{data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{long}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}38}]:} \PY{n}{sns}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{style}\PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{white}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{corr} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{} create a covariance matrix}
         
         \PY{c+c1}{\PYZsh{}Generate a mask the esize fo our covariance matrix}
         \PY{n}{mask} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{zeros\PYZus{}like}\PY{p}{(}\PY{n}{corr}\PY{p}{,}\PY{n}{dtype}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{bool}\PY{p}{)}
         \PY{n}{mask}\PY{p}{[}\PY{n}{np}\PY{o}{.}\PY{n}{triu\PYZus{}indices\PYZus{}from}\PY{p}{(}\PY{n}{mask}\PY{p}{)}\PY{p}{]} \PY{o}{=} \PY{k+kc}{True}
         
         \PY{c+c1}{\PYZsh{}set up the matplotlib fig}
         \PY{n}{f}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{11}\PY{p}{,} \PY{l+m+mi}{9}\PY{p}{)}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} Generate a custom diverging colormap}
         \PY{n}{cmap} \PY{o}{=} \PY{n}{sns}\PY{o}{.}\PY{n}{diverging\PYZus{}palette}\PY{p}{(}\PY{l+m+mi}{220}\PY{p}{,} \PY{l+m+mi}{10}\PY{p}{,} \PY{n}{as\PYZus{}cmap}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
         
         
         \PY{c+c1}{\PYZsh{}Draw the heatmap with the mask and correct aspect ratio}
         \PY{n}{sns}\PY{o}{.}\PY{n}{heatmap}\PY{p}{(}\PY{n}{corr}\PY{p}{,} \PY{n}{mask}\PY{o}{=}\PY{n}{mask}\PY{p}{,} \PY{n}{cmap}\PY{o}{=}\PY{n}{cmap}\PY{p}{,} \PY{n}{center}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{annot}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}38}]:} <matplotlib.axes.\_subplots.AxesSubplot at 0x1991338e240>
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_58_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \paragraph{Upon observation, there are variables higly
correlated}\label{upon-observation-there-are-variables-higly-correlated}

\paragraph{1. sqft\_above \& sqft\_living}\label{sqft_above-sqft_living}

\paragraph{2. sqft\_living15 \&
sqft\_living}\label{sqft_living15-sqft_living}

\paragraph{3. sqft\_lot15 \& sqft\_lot}\label{sqft_lot15-sqft_lot}

\paragraph{4. bathrooms \& sq\_living}\label{bathrooms-sq_living}

    \paragraph{\texorpdfstring{drop \emph{sqft\_above},
\emph{sqft\_living15}, \emph{sqft\_lot15}, \emph{bathrooms} ? We will
proceed with distribution analysis and OLS and decdie with more
evidence}{drop sqft\_above, sqft\_living15, sqft\_lot15, bathrooms ? We will proceed with distribution analysis and OLS and decdie with more evidence}}\label{drop-sqft_above-sqft_living15-sqft_lot15-bathrooms-we-will-proceed-with-distribution-analysis-and-ols-and-decdie-with-more-evidence}

    \subsubsection{4. Normalization \& Feature
Scaling}\label{normalization-feature-scaling}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}39}]:} \PY{c+c1}{\PYZsh{} firstly, Price (dependent varaible needs to be scaled)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{8}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{price}\PY{p}{,}\PY{n}{bins}\PY{o}{=}\PY{l+m+mi}{100}\PY{p}{,}\PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{b}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Histogram of House Price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}Extremly screwed \PYZam{} scale spectrum is too broad \PYZhy{}\PYZgt{} log scale needed}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_62_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}40}]:} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{log\PYZus{}price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}41}]:} \PY{n}{data}\PY{o}{.}\PY{n}{log\PYZus{}price}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}41}]:} 0        12.309982
         1        13.195614
         2        12.100712
         3        13.311329
         4        13.142166
         5        14.022525
         8        12.343658
         9        12.685408
         10       13.403776
         11       13.056224
         12       12.644328
         13       12.899220
         14       13.180632
         15       13.384728
         16       12.886641
         17       13.091904
         19       12.345835
         20       12.860999
         21       14.508658
         22       12.560244
         23       12.439958
         24       12.703813
         25       12.358794
         26       13.750439
         27       13.410545
         28       12.989974
         29       13.485617
         30       13.271645
         31       12.542545
         32       13.440817
                    {\ldots}    
         21565    13.345507
         21566    13.102161
         21567    12.899095
         21568    12.847927
         21569    12.506177
         21570    13.132314
         21571    12.860999
         21572    12.934828
         21573    12.758520
         21574    14.014361
         21575    13.256894
         21576    13.071070
         21577    13.901688
         21578    12.765688
         21579    13.161584
         21580    13.429775
         21582    13.202652
         21583    13.604790
         21584    14.247293
         21585    13.054085
         21586    12.319401
         21587    13.136759
         21588    12.969212
         21590    13.825461
         21591    13.071070
         21592    12.793859
         21593    12.899220
         21594    12.904459
         21595    12.899220
         21596    12.691580
         Name: log\_price, Length: 21082, dtype: float64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}42}]:} \PY{n}{data}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{[}\PY{l+m+mi}{12}\PY{p}{,}\PY{l+m+mi}{12}\PY{p}{]}\PY{p}{)}\PY{p}{;} 
         
         \PY{c+c1}{\PYZsh{} variable like bedrooms is very skewed. We need to perfrom outliers analysis}
         
         \PY{c+c1}{\PYZsh{} Price is the depenent variable so on need for outlier analysis}
         \PY{c+c1}{\PYZsh{}sqft\PYZus{}above,sqft\PYZus{}living15, sqft\PYZus{}lot15 are potential candidates for drop (multicolinearlity)}
         
         \PY{c+c1}{\PYZsh{}sqft\PYZus{}basement is replaced by sqft\PYZus{}basement2}
         \PY{c+c1}{\PYZsh{}yr\PYZus{}renovated is replaced by  yr\PYZus{}renovated2}
         
         \PY{c+c1}{\PYZsh{}Therefore, perfrom outlier analysis on bedrooms}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_65_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}43}]:} \PY{c+c1}{\PYZsh{} Outlier analysis on bedrooms}
         
         \PY{k+kn}{from} \PY{n+nn}{scipy}\PY{n+nn}{.}\PY{n+nn}{stats} \PY{k}{import} \PY{n}{zscore}
         
         \PY{n}{data}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bedrooms\PYZus{}zscore}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{zscore}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bedrooms}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{is\PYZus{}outlier}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bedrooms\PYZus{}zscore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x}\PY{o}{\PYZlt{}}\PY{o}{=}\PY{o}{\PYZhy{}}\PY{l+m+mi}{3} \PY{o+ow}{or} \PY{n}{x}\PY{o}{\PYZgt{}}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{)}
         
         \PY{n}{data}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{is\PYZus{}outlier}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}  \PY{c+c1}{\PYZsh{} bedrooms outlier (more than 6 bedrooms). }
                                   \PY{c+c1}{\PYZsh{}Please refer to the \PYZdq{}bedrooms\PYZus{}zscore\PYZdq{} and \PYZdq{}is\PYZus{}outlier\PYZdq{} colums}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}43}]:}          price  bedrooms  bathrooms  sqft\_living  sqft\_lot floors waterfront  \textbackslash{}
         556    1950000         7       3.50         4640     15235    2.0        NaN   
         1134    420000         7       3.00         2940      8624    1.0          0   
         1239    350000         7       3.00         2800      9569    1.0          0   
         1658    490000         8       5.00         2800      2580    2.0          0   
         3717    884900         7       4.75         5370     10800    1.5          0   
         4020    800000         7       6.75         7480     41664    2.0          0   
         4031   2150000         8       6.00         4340      9415    2.0          0   
         4063    373000         8       3.00         2850     12714    1.0        NaN   
         4092    599999         9       4.50         3830      6988    2.5          0   
         4231    700000         9       3.00         3680      4400    2.0          0   
         4756    950000         7       3.50         3470     16264    2.0          0   
         4863    600000         7       2.25         3170     36384    2.0          0   
         6073   1280000         9       4.50         3650      5000    2.0          0   
         6168    340000         8       2.75         2790      6695    1.0        NaN   
         7016    770000         7       2.25         3260      8145    2.0          0   
         7184   3200000         7       4.50         6210      8856    2.5          0   
         8113    450000         7       4.00         3150      7800    2.0          0   
         8507    999000         7       4.00         3150     34830    1.0          0   
         8537    450000         9       7.50         4050      6504    2.0          0   
         8620    575000         7       1.50         2670     11250    1.5          0   
         8748    520000        11       3.00         3000      4960    2.0          0   
         9068    700000         8       2.50         2280      3000    1.5          0   
         9123    310000         7       1.50         2660     15111    1.5          0   
         9443    900000         8       4.00         4020      7500    1.0          0   
         9650    853800         7       4.00         2960      2665    2.0          0   
         9723    550000         7       4.00         3440      8100    2.0          0   
         10264   597157         7       4.00         2690     10880    1.0          0   
         10775   475000         7       3.50         2870     29699    1.0          0   
         10946  1650000         8       2.75         4040     20666    1.0          0   
         12005   936000         7       3.75         5100     21802    2.0        NaN   
         12593   730000         7       2.75         3110      4400    1.5          0   
         12596   291000         7       1.00         2350      8636    1.0          0   
         12752   565000         7       4.50         4140      9066    1.0          0   
         12764  2280000         7       8.00        13540    307752    3.0          0   
         12872   808000         8       3.75         3460      4600    2.0          0   
         13107   419000         7       3.25         4340      8521    2.0          0   
         13301  1150000        10       5.25         4590     10920    1.0          0   
         14017  2890000         7       3.00         5350     14400    2.5          0   
         14188   450000         7       3.50         2830      8625    1.0        NaN   
         15008  2450000         7       4.25         4670     23115    2.0          0   
         15056   430000         8       3.25         4300     10441    2.0          0   
         15147   650000        10       2.00         3610     11914    2.0          0   
         15232  2300000         7       4.75         5310      8816    2.0          0   
         15507   727160         7       3.75         2310      5000    2.0          0   
         15656   680000         8       2.75         2530      4800    2.0          0   
         15737   540000         7       5.75         3700      7647    2.0          0   
         15856   640000        33       1.75         1620      6000    1.0          0   
         16299   280000         7       2.50         1940      5458    2.0          0   
         16722  1190000         7       3.50         3890      8342    2.0          0   
         16830  1400000         9       4.00         4620      5508    2.5          0   
         17221  1970000         8       3.50         4440      6480    2.0          0   
         17321   580000         7       2.75         2310      2400    1.5          0   
         18428   934000         9       3.00         2820      4480    2.0          0   
         18445   840000         7       4.50         4290     37607    1.5          0   
         18462  3300000         8       4.00         7710     11750    3.5          0   
         18808   539000         7       2.25         2620      6890    2.0          0   
         18960  1240000         7       5.50         6630     13782    2.0          0   
         19239   660000        10       3.00         2920      3745    2.0          0   
         19287   575000         8       3.00         3840     15990    1.0          0   
         19312   824000         7       4.25         3670      4000    2.0          0   
         
               view condition grade  sqft\_above  sqft\_basement  yr\_built  yr\_renovated  \textbackslash{}
         556    1.0         3    11        2860           1780      1965        2003.0   
         1134   0.0         3     8        1690           1250      1977           NaN   
         1239   2.0         3     7        1400           1400      1963           0.0   
         1658   0.0         3     8        1880            920      1997           0.0   
         3717   0.0         3     8        5370              0      1967           0.0   
         4020   2.0         3    11        5080           2400      1953           NaN   
         4031   0.0         3     8        4340              0      1967           0.0   
         4063   0.0         3     7        2850              0      1959           0.0   
         4092   0.0         3     7        2450           1380      1938           0.0   
         4231   0.0         3     7        2830            850      1908           0.0   
         4756   0.0         4     9        3470              0      1980           NaN   
         4863   0.0         3     8        3170              0      1969           0.0   
         6073   0.0         3     8        2530           1120      1915        2010.0   
         6168   0.0         3     7        1470           1320      1977           NaN   
         7016   0.0         5     8        3260              0      1967           NaN   
         7184   2.0         5    11        4760           1450      1910           0.0   
         8113   0.0         3     8        3150              0      2013           0.0   
         8507   0.0         3     9        3150              0      1957        2005.0   
         8537   0.0         3     7        4050              0      1996           0.0   
         8620   0.0         4     8        2320            350      1948           NaN   
         8748   0.0         3     7        2400            600      1918        1999.0   
         9068   0.0         3     7        1210           1070      1911           0.0   
         9123   0.0         4     7        2660              0      1962           0.0   
         9443   0.0         3     8        2010           2010      1968           0.0   
         9650   0.0         3     9        1950           1010      1927        2013.0   
         9723   0.0         3     7        3440              0      1970           NaN   
         10264  0.0         4     8        2690              0      1960           0.0   
         10775  0.0         3     7        1520           1350      1961           NaN   
         10946  0.0         4     9        2020           2020      1962           0.0   
         12005  0.0         3    10        3640           1460      2001           0.0   
         12593  0.0         5     7        2010           1100      1914           0.0   
         12596  0.0         3     7        1550            800      1962           NaN   
         12752  0.0         3     7        2070           2070      1978           NaN   
         12764  4.0         3    12        9410           4130      1999           0.0   
         12872  0.0         3     7        2860            600      1987           0.0   
         13107  0.0         3     7        2550           1790      1986           0.0   
         13301  2.0         3     9        2500           2090      2008           0.0   
         14017  0.0         4    10        5020            330      1910           0.0   
         14188  0.0         4     8        1830           1000      1957           0.0   
         15008  2.0         3    11        4670              0      1992           0.0   
         15056  0.0         4     8        2800           1500      1979           0.0   
         15147  0.0         4     7        3010            600      1958           0.0   
         15232  0.0         3    10        3650           1660      2013           0.0   
         15507  0.0         3     8        2310              0      1984           0.0   
         15656  0.0         4     7        1390           1140      1901           NaN   
         15737  1.0         3     8        3700              0      1948        1984.0   
         15856  0.0         5     7        1040            580      1947           0.0   
         16299  0.0         3     7        1940              0      1994           0.0   
         16722  4.0         3     9        2840           1050      1968           0.0   
         16830  0.0         3    11        3870            750      1915           0.0   
         17221  3.0         5    10        3140           1300      1959           0.0   
         17321  0.0         3     6        2310              0      1915           NaN   
         18428  0.0         3     7        1880            940      1918           0.0   
         18445  0.0         5    10        4290              0      1982           0.0   
         18462  0.0         5    12        6090           1620      1904           0.0   
         18808  0.0         4     7        2620              0      1961           0.0   
         18960  0.0         3    10        4930           1700      2004           NaN   
         19239  0.0         4     7        1860           1060      1913           0.0   
         19287  0.0         3     7        2530           1310      1961           0.0   
         19312  1.0         3     8        2800            870      1964           0.0   
         
               zipcode  sqft\_living15  sqft\_lot15  sqft\_basement2  yr\_renovated2  \textbackslash{}
         556     98040           3230       20697          1780.0         2003.0   
         1134    98155           1850        8031          1250.0            NaN   
         1239    98056           2150        7333          1400.0            NaN   
         1658    98122           1800        2580           920.0            NaN   
         3717    98040           2310       10910             NaN            NaN   
         4020    98166           2810       33190          2400.0            NaN   
         4031    98004           2050        9100             NaN            NaN   
         4063    98055           1480        4942             NaN            NaN   
         4092    98103           1460        6291          1380.0            NaN   
         4231    98102           1960        2450           850.0            NaN   
         4756    98007           3040       13500             NaN            NaN   
         4863    98027           2460       38370             NaN            NaN   
         6073    98105           2510        5000          1120.0         2010.0   
         6168    98133           1760        7624          1320.0            NaN   
         7016    98008           2340        8145             NaN            NaN   
         7184    98109           2940        5400          1450.0            NaN   
         8113    98118           1880        6000             NaN            NaN   
         8507    98007           2390       12054             NaN         2005.0   
         8537    98144           1448        3866             NaN            NaN   
         8620    98133           2030        9000           350.0            NaN   
         8748    98106           1420        4960           600.0         1999.0   
         9068    98105           1610        3000          1070.0            NaN   
         9123    98059           1710       15429             NaN            NaN   
         9443    98107           1560        3737          2010.0            NaN   
         9650    98144           1970        4410          1010.0         2013.0   
         9723    98103           1420        1560             NaN            NaN   
         10264   98033           1840       10836             NaN            NaN   
         10775   98125           1380        7555          1350.0            NaN   
         10946   98004           3670       20500          2020.0            NaN   
         12005   98075           3350       10005          1460.0            NaN   
         12593   98105           1240        4280          1100.0            NaN   
         12596   98118           1500        7366           800.0            NaN   
         12752   98125           1440        1865          2070.0            NaN   
         12764   98053           4850      217800          4130.0            NaN   
         12872   98105           2170        3750           600.0            NaN   
         13107   98106           1890        8951          1790.0            NaN   
         13301   98004           2730       10400          2090.0            NaN   
         14017   98112           3050        7469           330.0            NaN   
         14188   98133           1570        8400          1000.0            NaN   
         15008   98039           3240       13912             NaN            NaN   
         15056   98059           1780       10457          1500.0            NaN   
         15147   98006           2040       11914           600.0            NaN   
         15232   98004           2920       10610          1660.0            NaN   
         15507   98117           1360        1552             NaN            NaN   
         15656   98112           1540        4800          1140.0            NaN   
         15737   98155           2510        7479             NaN         1984.0   
         15856   98103           1330        4700           580.0            NaN   
         16299   98092           1710        5688             NaN            NaN   
         16722   98117           2870        8342          1050.0            NaN   
         16830   98105           2710        4320           750.0            NaN   
         17221   98112           4440        8640          1300.0            NaN   
         17321   98117           1340        3825             NaN            NaN   
         18428   98105           2460        4400           940.0            NaN   
         18445   98027           2810       40510             NaN            NaN   
         18462   98112           4210        8325          1620.0            NaN   
         18808   98007           2070        7910             NaN            NaN   
         18960   98006           4470        8639          1700.0            NaN   
         19239   98105           1810        3745          1060.0            NaN   
         19287   98034           1380        8172          1310.0            NaN   
         19312   98199           2010        4000           870.0            NaN   
         
               basement\_present renovated  log\_price  bedrooms\_zscore  is\_outlier  
         556                  1         1  14.483340         3.921838        True  
         1134                 1         0  12.948010         3.921838        True  
         1239                 1         0  12.765688         3.921838        True  
         1658                 1         0  13.102161         5.002949        True  
         3717                 0         0  13.693230         3.921838        True  
         4020                 1         0  13.592367         3.921838        True  
         4031                 0         0  14.580978         5.002949        True  
         4063                 0         0  12.829334         5.002949        True  
         4092                 1         0  13.304683         6.084061        True  
         4231                 1         0  13.458836         6.084061        True  
         4756                 0         0  13.764217         3.921838        True  
         4863                 0         0  13.304685         3.921838        True  
         6073                 1         1  14.062371         6.084061        True  
         6168                 1         0  12.736701         5.002949        True  
         7016                 0         0  13.554146         3.921838        True  
         7184                 1         0  14.978661         3.921838        True  
         8113                 0         0  13.017003         3.921838        True  
         8507                 0         1  13.814510         3.921838        True  
         8537                 0         0  13.017003         6.084061        True  
         8620                 1         0  13.262125         3.921838        True  
         8748                 1         1  13.161584         8.246284        True  
         9068                 1         0  13.458836         5.002949        True  
         9123                 0         0  12.644328         3.921838        True  
         9443                 1         0  13.710150         5.002949        True  
         9650                 1         1  13.657452         3.921838        True  
         9723                 0         0  13.217674         3.921838        True  
         10264                0         0  13.299935         3.921838        True  
         10775                1         0  13.071070         3.921838        True  
         10946                1         0  14.316286         5.002949        True  
         12005                1         0  13.749371         3.921838        True  
         12593                1         0  13.500800         3.921838        True  
         12596                1         0  12.581079         3.921838        True  
         12752                1         0  13.244581         3.921838        True  
         12764                1         0  14.639686         3.921838        True  
         12872                1         0  13.602317         5.002949        True  
         13107                1         0  12.945626         3.921838        True  
         13301                1         0  13.955273         7.165173        True  
         14017                1         0  14.876767         3.921838        True  
         14188                1         0  13.017003         3.921838        True  
         15008                0         0  14.711599         3.921838        True  
         15056                1         0  12.971540         5.002949        True  
         15147                1         0  13.384728         7.165173        True  
         15232                1         0  14.648420         3.921838        True  
         15507                0         0  13.496902         3.921838        True  
         15656                1         0  13.429848         5.002949        True  
         15737                0         1  13.199324         3.921838        True  
         15856                1         0  13.369223        32.030742        True  
         16299                0         0  12.542545         3.921838        True  
         16722                1         0  13.989464         3.921838        True  
         16830                1         0  14.151983         6.084061        True  
         17221                1         0  14.493544         5.002949        True  
         17321                0         0  13.270783         3.921838        True  
         18428                1         0  13.747232         6.084061        True  
         18445                0         0  13.641157         3.921838        True  
         18462                1         0  15.009433         5.002949        True  
         18808                0         0  13.197471         3.921838        True  
         18960                1         0  14.030622         3.921838        True  
         19239                1         0  13.399995         7.165173        True  
         19287                1         0  13.262125         5.002949        True  
         19312                1         0  13.621926         3.921838        True  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}44}]:} \PY{n}{data} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{is\PYZus{}outlier}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
         \PY{n}{data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{is\PYZus{}outlier}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bedrooms\PYZus{}zscore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}45}]:} \PY{n}{data}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}45}]:}     price  bedrooms  bathrooms  sqft\_living  sqft\_lot floors waterfront view  \textbackslash{}
         0  221900         3       1.00         1180      5650    1.0        NaN  0.0   
         1  538000         3       2.25         2570      7242    2.0          0  0.0   
         2  180000         2       1.00          770     10000    1.0          0  0.0   
         3  604000         4       3.00         1960      5000    1.0          0  0.0   
         4  510000         3       2.00         1680      8080    1.0          0  0.0   
         
           condition grade  sqft\_above  sqft\_basement  yr\_built  yr\_renovated zipcode  \textbackslash{}
         0         3     7        1180              0      1955           0.0   98178   
         1         3     7        2170            400      1951        1991.0   98125   
         2         3     6         770              0      1933           NaN   98028   
         3         5     7        1050            910      1965           0.0   98136   
         4         3     8        1680              0      1987           0.0   98074   
         
            sqft\_living15  sqft\_lot15  sqft\_basement2  yr\_renovated2 basement\_present  \textbackslash{}
         0           1340        5650             NaN            NaN                0   
         1           1690        7639           400.0         1991.0                1   
         2           2720        8062             NaN            NaN                0   
         3           1360        5000           910.0            NaN                1   
         4           1800        7503             NaN            NaN                0   
         
           renovated  log\_price  
         0         0  12.309982  
         1         1  13.195614  
         2         0  12.100712  
         3         0  13.311329  
         4         0  13.142166  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}46}]:} \PY{n}{data}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{[}\PY{l+m+mi}{14}\PY{p}{,}\PY{l+m+mi}{14}\PY{p}{]}\PY{p}{)}\PY{p}{;} \PY{c+c1}{\PYZsh{} try histogram again to see change in distribution }
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_69_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}47}]:} \PY{n}{data}\PY{o}{.}\PY{n}{columns}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}47}]:} Index(['price', 'bedrooms', 'bathrooms', 'sqft\_living', 'sqft\_lot', 'floors',
                'waterfront', 'view', 'condition', 'grade', 'sqft\_above',
                'sqft\_basement', 'yr\_built', 'yr\_renovated', 'zipcode', 'sqft\_living15',
                'sqft\_lot15', 'sqft\_basement2', 'yr\_renovated2', 'basement\_present',
                'renovated', 'log\_price'],
               dtype='object')
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}48}]:} \PY{n}{data}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
Int64Index: 21022 entries, 0 to 21596
Data columns (total 22 columns):
price               21022 non-null int32
bedrooms            21022 non-null int64
bathrooms           21022 non-null float64
sqft\_living         21022 non-null int64
sqft\_lot            21022 non-null int64
floors              21022 non-null category
waterfront          21022 non-null object
view                21022 non-null category
condition           21022 non-null category
grade               21022 non-null category
sqft\_above          21022 non-null int64
sqft\_basement       21022 non-null int32
yr\_built            21022 non-null int64
yr\_renovated        17293 non-null float64
zipcode             21022 non-null object
sqft\_living15       21022 non-null int64
sqft\_lot15          21022 non-null int64
sqft\_basement2      8243 non-null float64
yr\_renovated2       716 non-null float64
basement\_present    21022 non-null category
renovated           21022 non-null category
log\_price           21022 non-null float64
dtypes: category(6), float64(5), int32(2), int64(7), object(2)
memory usage: 2.7+ MB

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}49}]:} \PY{c+c1}{\PYZsh{} Missing variables from the histograms are floors, waterfront, view, condition, grade, zipcode (non\PYZhy{}continuous variables)}
         \PY{c+c1}{\PYZsh{} basement\PYZus{}present and renovated are dummy variables}
         
         
         \PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}
          
         \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{violinplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{condition}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{log\PYZus{}price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{)}  
         \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{violinplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{grade}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{log\PYZus{}price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{)}   
         \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{violinplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{view}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{log\PYZus{}price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{)}  
         \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{violinplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{floors}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{log\PYZus{}price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{)}  
         \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{violinplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{waterfront}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{log\PYZus{}price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{)}  
         \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{violinplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{basement\PYZus{}present}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{log\PYZus{}price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{)}  
         \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{violinplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{renovated}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{log\PYZus{}price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{)}  
         \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}scipy\textbackslash{}stats\textbackslash{}stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}scipy\textbackslash{}stats\textbackslash{}stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval
C:\textbackslash{}Users\textbackslash{}jjsjk\textbackslash{}Anaconda3\textbackslash{}envs\textbackslash{}learn-env\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}scipy\textbackslash{}stats\textbackslash{}stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}49}]:} <matplotlib.axes.\_subplots.AxesSubplot at 0x19912b4a390>
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_72_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \paragraph{waterfront, grade, view, condition show positive relationship
to log
price}\label{waterfront-grade-view-condition-show-positive-relationship-to-log-price}

\paragraph{renovated and basement\_present also shows slight positive
relationsip.}\label{renovated-and-basement_present-also-shows-slight-positive-relationsip.}

\paragraph{Further analysis is requried to tell the significance of the
relationships}\label{further-analysis-is-requried-to-tell-the-significance-of-the-relationships}

    \paragraph{Next, we need scaling of the other variables.
(continuouts)}\label{next-we-need-scaling-of-the-other-variables.-continuouts}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}50}]:} \PY{n}{data}\PY{o}{.}\PY{n}{columns}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}50}]:} Index(['price', 'bedrooms', 'bathrooms', 'sqft\_living', 'sqft\_lot', 'floors',
                'waterfront', 'view', 'condition', 'grade', 'sqft\_above',
                'sqft\_basement', 'yr\_built', 'yr\_renovated', 'zipcode', 'sqft\_living15',
                'sqft\_lot15', 'sqft\_basement2', 'yr\_renovated2', 'basement\_present',
                'renovated', 'log\_price'],
               dtype='object')
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}51}]:} \PY{n}{data\PYZus{}log} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{[}\PY{p}{]}\PY{p}{)}
         
         \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bedrooms}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bedrooms}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bathrooms}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bathrooms}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         
         
         \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}lot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}lot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}above}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}above}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}basement2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}basement2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}living}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}living}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}living15}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}living15}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}lot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}lot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}lot15}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}lot15}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         
         \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         
         \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yr\PYZus{}built}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yr\PYZus{}built}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yr\PYZus{}renovated2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yr\PYZus{}renovated2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         
         \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{[}\PY{l+m+mi}{12}\PY{p}{,}\PY{l+m+mi}{12}\PY{p}{]}\PY{p}{)}\PY{p}{;}
         
         \PY{c+c1}{\PYZsh{} Confirmed that the variables are a lot more normally distributed}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_76_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \paragraph{Create dummy variables for the rest of the categorical
variables and add them to
data\_log}\label{create-dummy-variables-for-the-rest-of-the-categorical-variables-and-add-them-to-data_log}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}52}]:} \PY{n}{categorial\PYZus{}cols} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{floors}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{view}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{condition}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grade}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{k}{for} \PY{n}{cc} \PY{o+ow}{in} \PY{n}{categorial\PYZus{}cols}\PY{p}{:}
             \PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{n}{cc}\PY{p}{]}\PY{p}{,} \PY{n}{drop\PYZus{}first}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
             \PY{n}{dummies} \PY{o}{=} \PY{n}{dummies}\PY{o}{.}\PY{n}{add\PYZus{}prefix}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{cc}\PY{p}{)}\PY{p}{)}
             \PY{n}{data\PYZus{}log} \PY{o}{=} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}53}]:} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{} great! new data set to do OLS}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
Int64Index: 21022 entries, 0 to 21596
Data columns (total 38 columns):
bedrooms          21022 non-null float64
bathrooms         21022 non-null float64
sqft\_lot          21022 non-null float64
sqft\_above        21022 non-null float64
sqft\_basement2    8243 non-null float64
sqft\_living       21022 non-null float64
sqft\_living15     21022 non-null float64
sqft\_lot15        21022 non-null float64
price             21022 non-null float64
yr\_built          21022 non-null float64
yr\_renovated2     716 non-null float64
floors1.0         21022 non-null uint8
floors1.5         21022 non-null uint8
floors2.0         21022 non-null uint8
floors2.5         21022 non-null uint8
floors3.0         21022 non-null uint8
floors3.5         21022 non-null uint8
view0.0           21022 non-null uint8
view1.0           21022 non-null uint8
view2.0           21022 non-null uint8
view3.0           21022 non-null uint8
view4.0           21022 non-null uint8
condition1        21022 non-null uint8
condition2        21022 non-null uint8
condition3        21022 non-null uint8
condition4        21022 non-null uint8
condition5        21022 non-null uint8
grade3            21022 non-null uint8
grade4            21022 non-null uint8
grade5            21022 non-null uint8
grade6            21022 non-null uint8
grade7            21022 non-null uint8
grade8            21022 non-null uint8
grade9            21022 non-null uint8
grade10           21022 non-null uint8
grade11           21022 non-null uint8
grade12           21022 non-null uint8
grade13           21022 non-null uint8
dtypes: float64(11), uint8(27)
memory usage: 3.1 MB

    \end{Verbatim}

    \paragraph{We saw that zipcodes are also related to
price.}\label{we-saw-that-zipcodes-are-also-related-to-price.}

\paragraph{However, encoded all zipcodes will add 70 dummies
variables.}\label{however-encoded-all-zipcodes-will-add-70-dummies-variables.}

\paragraph{Instead, we will only encode the 6 most expensive
zipcodes.}\label{instead-we-will-only-encode-the-6-most-expensive-zipcodes.}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}54}]:} \PY{n}{zipcode\PYZus{}data} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{aggregate}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{mean}\PY{p}{)}
         \PY{n}{zipcode\PYZus{}data}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}54}]:}                 price  bedrooms  bathrooms  sqft\_living      sqft\_lot  \textbackslash{}
         zipcode                                                                 
         98001    2.814788e+05  3.401709   2.022080  1910.814815  14845.814815   
         98002    2.345127e+05  3.333333   1.843434  1629.904040   7505.853535   
         98003    2.949962e+05  3.336996   2.043040  1928.029304  10629.216117   
         98004    1.353591e+06  3.803226   2.502419  2893.451613  13142.964516   
         98005    8.102914e+05  3.838323   2.422156  2648.940120  19991.233533   
         98006    8.574607e+05  3.819302   2.545688  2869.858316  13342.260780   
         98007    6.140060e+05  3.750000   2.150735  2167.573529  10542.088235   
         98008    6.469884e+05  3.730216   2.093525  2136.348921  10124.625899   
         98010    4.214449e+05  3.285714   2.017857  2125.704082  55983.479592   
         98011    4.903313e+05  3.539267   2.285340  2255.308901  11375.811518   
         98014    4.573080e+05  3.000000   2.059426  2118.016393  96256.311475   
         98019    4.254674e+05  3.367021   2.288564  2175.989362  40178.382979   
         98022    3.172865e+05  3.149780   1.920705  1837.991189  75286.233480   
         98023    2.839324e+05  3.427686   2.057851  1987.229339  10274.851240   
         98024    5.755086e+05  3.333333   2.176282  2353.141026  93452.115385   
         98027    6.192714e+05  3.527919   2.484137  2524.388325  32994.827411   
         98028    4.616476e+05  3.465455   2.145455  2115.676364  11968.010909   
         98029    6.115424e+05  3.423948   2.580097  2277.152104   8761.838188   
         98030    2.943325e+05  3.492000   2.147000  1954.168000  11304.492000   
         98031    3.002167e+05  3.479245   2.143396  1921.607547  12147.992453   
         98032    2.513131e+05  3.377049   1.711066  1742.262295  10453.032787   
         98033    8.005277e+05  3.547170   2.326651  2373.629717  10487.325472   
         98034    5.232183e+05  3.457944   2.123832  1977.398131   9792.614953   
         98038    3.664765e+05  3.439580   2.373905  2141.492119  25546.507881   
         98039    2.129062e+06  3.979167   3.140625  3748.437500  17221.895833   
         98040    1.184380e+06  4.011029   2.700368  3090.430147  13700.911765   
         98042    3.117870e+05  3.405556   2.125463  1978.981481  19116.651852   
         98045    4.401043e+05  3.232558   2.112791  2071.488372  50913.720930   
         98052    6.443289e+05  3.609626   2.356952  2362.046346  11193.370766   
         98053    6.727908e+05  3.215190   2.450633  2593.774684  34818.817722   
         {\ldots}               {\ldots}       {\ldots}        {\ldots}          {\ldots}           {\ldots}   
         98092    3.348097e+05  3.492625   2.243363  2196.740413  31745.348083   
         98102    9.057596e+05  3.151515   2.287879  2138.575758   3606.636364   
         98103    5.863588e+05  2.991438   1.932791  1646.952055   3455.597603   
         98105    8.645453e+05  3.429224   2.122146  2125.031963   5170.223744   
         98106    3.189060e+05  3.070336   1.802752  1478.810398   5531.366972   
         98107    5.766119e+05  2.965517   2.034483  1565.593870   3173.597701   
         98108    3.565858e+05  3.213115   1.937158  1712.404372   5225.169399   
         98109    8.546488e+05  3.153846   2.129808  2009.336538   3613.788462   
         98112    1.081634e+06  3.453125   2.371094  2471.687500   4911.265625   
         98115    6.197530e+05  3.201770   1.865487  1839.534513   5469.559292   
         98116    6.188801e+05  3.056604   1.987421  1847.018868   4999.144654   
         98117    5.738226e+05  3.000000   1.802974  1683.620818   4616.611524   
         98118    4.183694e+05  3.119192   1.762121  1687.286869   5762.084848   
         98119    8.614803e+05  3.284091   2.223011  2008.482955   3642.801136   
         98122    6.368700e+05  3.124555   2.064947  1778.412811   3496.398577   
         98125    4.683230e+05  3.195489   1.813283  1737.037594   7610.040100   
         98126    4.234066e+05  2.839181   1.684942  1538.751462   5092.608187   
         98133    3.860317e+05  3.112500   1.725521  1606.412500   7107.795833   
         98136    5.465763e+05  2.896414   1.844622  1703.290837   6009.123506   
         98144    5.896236e+05  3.189759   2.016566  1890.885542   4078.265060   
         98146    3.588097e+05  3.136691   1.633094  1629.165468   9063.374101   
         98148    2.848153e+05  3.145455   1.800000  1603.636364   8931.200000   
         98155    4.241385e+05  3.297921   1.799076  1782.424942  10367.586605   
         98166    4.611012e+05  3.372470   1.889676  2047.380567  13536.396761   
         98168    2.415436e+05  3.015326   1.440613  1479.885057  11348.241379   
         98177    6.738165e+05  3.398406   2.097610  2309.920319  11601.788845   
         98178    3.111459e+05  3.310078   1.736434  1732.713178   8338.705426   
         98188    2.899845e+05  3.435115   1.862595  1812.900763  10144.687023   
         98198    3.036514e+05  3.188889   1.784259  1745.374074  10642.414815   
         98199    7.945787e+05  3.201923   2.169872  2162.788462   5426.791667   
         
                   sqft\_above  sqft\_basement     yr\_built  yr\_renovated  sqft\_living15  \textbackslash{}
         zipcode                                                                         
         98001    1728.678063     182.136752  1981.173789     28.851449    1831.475783   
         98002    1524.166667     105.737374  1968.010101     60.579268    1481.146465   
         98003    1662.267399     265.761905  1976.864469     16.923729    1874.589744   
         98004    2414.000000     479.451613  1971.158065    218.769531    2676.451613   
         98005    2160.077844     488.862275  1969.742515     58.408759    2568.329341   
         98006    2289.201232     580.657084  1978.609856     79.897756    2785.595483   
         98007    1866.544118     301.029412  1971.102941     35.398230    2125.147059   
         98008    1708.935252     427.413669  1966.384892     59.897436    2016.223022   
         98010    1991.571429     134.132653  1978.867347    247.962500    1998.632653   
         98011    1951.984293     303.324607  1982.696335     38.600000    2252.015707   
         98014    1985.393443     132.622951  1980.549180     39.524752    1927.852459   
         98019    2039.234043     136.755319  1991.553191     55.776224    2106.632979   
         98022    1725.612335     112.378855  1971.541850    129.075676    1797.797357   
         98023    1703.088843     284.140496  1978.704545     19.650990    1960.442149   
         98024    2187.948718     165.192308  1970.974359    126.603175    2125.846154   
         98027    2122.154822     402.233503  1987.180203     18.518519    2380.835025   
         98028    1785.458182     330.218182  1978.021818     26.302632    2091.156364   
         98029    2166.796117     110.355987  1997.653722      0.000000    2207.508091   
         98030    1794.048000     160.120000  1984.780000      9.969543    1918.792000   
         98031    1708.249057     213.358491  1981.920755      9.296296    1905.833962   
         98032    1431.065574     311.196721  1965.467213     37.716981    1669.172131   
         98033    2052.035377     321.594340  1978.530660     95.569014    2205.853774   
         98034    1662.953271     314.444860  1976.420561     13.655963    1919.579439   
         98038    2052.805604      88.686515  1995.842382     37.509395    2112.887916   
         98039    3217.187500     531.250000  1971.250000    472.000000    3129.375000   
         98040    2465.408088     625.022059  1971.408088    239.922747    2898.919118   
         98042    1844.444444     134.537037  1986.335185     48.030568    1954.655556   
         98045    1941.813953     129.674419  1985.627907     53.580645    1911.790698   
         98052    2102.705882     259.340463  1985.281640     34.827887    2331.762923   
         98053    2526.331646      67.443038  1997.911392     24.629630    2460.151899   
         {\ldots}              {\ldots}            {\ldots}          {\ldots}           {\ldots}            {\ldots}   
         98092    2063.318584     133.421829  1989.306785     35.242105    2133.926254   
         98102    1743.373737     395.202020  1953.050505     82.638889    1958.030303   
         98103    1403.761986     243.190068  1953.013699    102.785408    1524.931507   
         98105    1681.561644     443.470320  1941.095890    145.921348    2029.748858   
         98106    1183.672783     295.137615  1965.669725     93.417969    1358.691131   
         98107    1311.685824     253.908046  1959.570881    115.176991    1517.969349   
         98108    1303.005464     409.398907  1958.584699     27.333333    1572.950820   
         98109    1607.028846     402.307692  1943.644231    165.117647    1927.596154   
         98112    1979.460938     492.226562  1945.347656    185.175926    2264.027344   
         98115    1411.353982     428.180531  1948.865487    138.149888    1693.842478   
         98116    1419.062893     427.955975  1953.729560    192.140741    1697.952830   
         98117    1324.921933     358.698885  1948.278810    104.715262    1536.895911   
         98118    1325.565657     361.721212  1950.371717    101.576271    1613.004040   
         98119    1599.732955     408.750000  1946.068182    223.468531    1871.704545   
         98122    1484.569395     293.843416  1950.473310    248.061947    1710.704626   
         98125    1423.791980     313.245614  1960.125313    110.786378    1658.541353   
         98126    1243.839181     294.912281  1952.842105    109.185455    1413.140351   
         98133    1354.112500     252.300000  1962.910417     70.168766    1551.772917   
         98136    1335.697211     367.593625  1957.035857    168.877358    1665.458167   
         98144    1459.611446     431.274096  1955.280120    148.274648    1752.466867   
         98146    1377.978417     251.187050  1955.791367    173.305677    1541.143885   
         98148    1484.181818     119.454545  1964.018182     43.822222    1608.000000   
         98155    1474.180139     308.244804  1961.069284     81.629738    1720.307159   
         98166    1697.469636     349.910931  1957.562753    204.512195    1882.024291   
         98168    1243.678161     236.206897  1952.950192     46.000000    1474.490421   
         98177    1831.800797     478.119522  1960.792829    158.207921    2175.976096   
         98178    1330.503876     402.209302  1955.546512     86.138756    1653.682171   
         98188    1499.923664     312.977099  1965.580153     18.155963    1631.709924   
         98198    1473.744444     271.629630  1966.281481     78.314410    1714.555556   
         98199    1592.660256     570.128205  1956.618590    180.976378    1993.205128   
         
                    sqft\_lot15  sqft\_basement2  yr\_renovated2  log\_price  
         zipcode                                                          
         98001    11237.170940      752.117647    1990.750000  12.495672  
         98002     7598.060606      675.354839    1987.000000  12.338653  
         98003     9777.366300      740.336735    1997.000000  12.542263  
         98004    12792.329032     1032.152778    2000.178571  14.005738  
         98005    18419.227545      949.302326    2000.500000  13.559934  
         98006    12120.903491     1075.209125    2002.437500  13.560464  
         98007     9605.595588      909.777778    2000.000000  13.281690  
         98008     9499.615108      893.390977    2002.285714  13.279396  
         98010    47447.795918      730.277778    1983.700000  12.846118  
         98011     9527.811518      772.466667    1994.333333  13.074030  
         98014    75609.926230      898.888889    1996.000000  12.903151  
         98019    37336.734043      734.571429    1994.000000  12.915914  
         98022    51750.290749      773.030303    1989.916667  12.605109  
         98023     9603.280992      694.565657    1984.750000  12.506625  
         98024    79115.474359      757.941176    1994.000000  13.116154  
         98027    28205.263959      784.554455    2000.000000  13.255348  
         98028    10115.687273      818.108108    1999.000000  12.997693  
         98029     7078.190939      695.918367            NaN  13.277193  
         98030     8088.760000      656.229508    1964.000000  12.563507  
         98031     8489.381132      715.696203    2008.000000  12.583357  
         98032     9318.991803      759.320000    1999.000000  12.397838  
         98033     9908.594340      863.012658    1995.705882  13.482324  
         98034     8501.482243      715.863830    1984.666667  13.078018  
         98038    20074.898424      779.076923    1996.333333  12.758879  
         98039    17350.375000     1214.285714    1992.888889  14.453349  
         98040    12748.985294     1140.979866    1996.500000  13.900236  
         98042    14805.274074      726.500000    1999.818182  12.598727  
         98045    32410.158140      733.684211    1993.200000  12.914080  
         98052    10116.696970      734.797980    1998.250000  13.334065  
         98053    28553.739241      888.000000    1995.000000  13.353919  
         {\ldots}               {\ldots}             {\ldots}            {\ldots}        {\ldots}  
         98092    29819.516224      753.833333    2008.800000  12.664934  
         98102     3319.505051      601.923077    1983.333333  13.561080  
         98103     3466.285959      609.540773    1995.750000  13.223993  
         98105     4984.200913      660.680272    1998.000000  13.558110  
         98106     5074.339450      564.385965    1992.916667  12.626986  
         98107     3437.157088      538.780488    2002.307692  13.222729  
         98108     5043.562842      700.186916    2009.000000  12.737492  
         98109     3629.105769      643.692308    2005.000000  13.567434  
         98112     4861.187500      732.616279    1999.900000  13.772555  
         98115     5294.617699      677.652661    1992.032258  13.277364  
         98116     4941.745283      654.278846    1995.307692  13.268331  
         98117     4629.366171      632.721311    1998.695652  13.213131  
         98118     5549.016162      688.661538    1997.666667  12.842570  
         98119     3758.727273      599.500000    1997.250000  13.573508  
         98122     3547.459075      554.161074    2002.214286  13.286021  
         98125     7323.110276      702.162921    1988.000000  12.995640  
         98126     5010.049708      579.655172    2001.733333  12.893636  
         98133     6742.581250      651.096774    1989.785714  12.831987  
         98136     5764.924303      599.129870    1989.000000  13.136513  
         98144     3906.509036      669.079439    2005.238095  13.153394  
         98146     8256.442446      684.607843    1984.350000  12.657829  
         98148     8923.218182      547.500000    1972.000000  12.512606  
         98155     9865.060046      758.352273    1999.928571  12.878016  
         98166    12650.829960      751.547826    1996.428571  12.908133  
         98168     9801.582375      635.567010    1987.200000  12.349683  
         98177    11442.561753      821.972603    1997.375000  13.293951  
         98178     8157.496124      817.086614    2000.333333  12.560006  
         98188     9725.259542      820.000000    1979.000000  12.520820  
         98198     9533.340741      748.367347    1992.666667  12.533904  
         98199     5278.961538      714.377510    1998.608696  13.489483  
         
         [70 rows x 14 columns]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}55}]:} \PY{n}{zipcode\PYZus{}data} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{aggregate}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{mean}\PY{p}{)}
         \PY{n}{zipcode\PYZus{}data}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
         
         \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+m+mi}{1}
         \PY{n}{count\PYZus{}houses\PYZus{}zipcode} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
         \PY{n}{count\PYZus{}houses\PYZus{}zipcode}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
         \PY{n}{count\PYZus{}houses\PYZus{}zipcode} \PY{o}{=} \PY{n}{count\PYZus{}houses\PYZus{}zipcode}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
         \PY{n}{data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis} \PY{o}{=} \PY{l+m+mi}{1}\PY{p}{,} \PY{n}{inplace} \PY{o}{=} \PY{k+kc}{True}\PY{p}{)}
         
         \PY{n}{zipcode\PYZus{}data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{zipcode\PYZus{}data}\PY{p}{,} \PY{n}{count\PYZus{}houses\PYZus{}zipcode}\PY{p}{,} \PY{n}{how}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{left}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{on}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{zipcode\PYZus{}data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{zipcode\PYZus{}data}\PY{p}{)}
         \PY{n}{zipcode\PYZus{}data} \PY{o}{=} \PY{n}{zipcode\PYZus{}data}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{ascending}\PY{o}{=} \PY{k+kc}{False}\PY{p}{)}
         \PY{n}{zipcode\PYZus{}data}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}55}]:}    zipcode         price  bedrooms  bathrooms  sqft\_living      sqft\_lot  \textbackslash{}
         24   98039  2.129062e+06  3.979167   3.140625  3748.437500  17221.895833   
         3    98004  1.353591e+06  3.803226   2.502419  2893.451613  13142.964516   
         25   98040  1.184380e+06  4.011029   2.700368  3090.430147  13700.911765   
         48   98112  1.081634e+06  3.453125   2.371094  2471.687500   4911.265625   
         41   98102  9.057596e+05  3.151515   2.287879  2138.575758   3606.636364   
         43   98105  8.645453e+05  3.429224   2.122146  2125.031963   5170.223744   
         53   98119  8.614803e+05  3.284091   2.223011  2008.482955   3642.801136   
         5    98006  8.574607e+05  3.819302   2.545688  2869.858316  13342.260780   
         47   98109  8.546488e+05  3.153846   2.129808  2009.336538   3613.788462   
         4    98005  8.102914e+05  3.838323   2.422156  2648.940120  19991.233533   
         
              sqft\_above  sqft\_basement     yr\_built  yr\_renovated  sqft\_living15  \textbackslash{}
         24  3217.187500     531.250000  1971.250000    472.000000    3129.375000   
         3   2414.000000     479.451613  1971.158065    218.769531    2676.451613   
         25  2465.408088     625.022059  1971.408088    239.922747    2898.919118   
         48  1979.460938     492.226562  1945.347656    185.175926    2264.027344   
         41  1743.373737     395.202020  1953.050505     82.638889    1958.030303   
         43  1681.561644     443.470320  1941.095890    145.921348    2029.748858   
         53  1599.732955     408.750000  1946.068182    223.468531    1871.704545   
         5   2289.201232     580.657084  1978.609856     79.897756    2785.595483   
         47  1607.028846     402.307692  1943.644231    165.117647    1927.596154   
         4   2160.077844     488.862275  1969.742515     58.408759    2568.329341   
         
               sqft\_lot15  sqft\_basement2  yr\_renovated2  log\_price  count  
         24  17350.375000     1214.285714    1992.888889  14.453349     48  
         3   12792.329032     1032.152778    2000.178571  14.005738    310  
         25  12748.985294     1140.979866    1996.500000  13.900236    272  
         48   4861.187500      732.616279    1999.900000  13.772555    256  
         41   3319.505051      601.923077    1983.333333  13.561080     99  
         43   4984.200913      660.680272    1998.000000  13.558110    219  
         53   3758.727273      599.500000    1997.250000  13.573508    176  
         5   12120.903491     1075.209125    2002.437500  13.560464    487  
         47   3629.105769      643.692308    2005.000000  13.567434    104  
         4   18419.227545      949.302326    2000.500000  13.559934    167  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}56}]:}   \PY{n}{zipcode\PYZus{}data}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{6}\PY{p}{)} \PY{c+c1}{\PYZsh{} top 6 zipcodes}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}56}]:}            price zipcode
         24  2.129062e+06   98039
         3   1.353591e+06   98004
         25  1.184380e+06   98040
         48  1.081634e+06   98112
         41  9.057596e+05   98102
         43  8.645453e+05   98105
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}58}]:} \PY{n}{dummies\PYZus{}zipcodes} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{drop\PYZus{}first}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
         \PY{n}{dummies\PYZus{}zipcodes}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
         \PY{n}{dummies\PYZus{}zipcodes} \PY{o}{=} \PY{n}{dummies\PYZus{}zipcodes}\PY{o}{.}\PY{n}{add\PYZus{}prefix}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{dummies\PYZus{}zipcodes} \PY{o}{=} \PY{n}{dummies\PYZus{}zipcodes}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode98039}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode98004}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode98040}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode98112}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode98109}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode98006}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
         \PY{n}{data\PYZus{}log} \PY{o}{=} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies\PYZus{}zipcodes}\PY{p}{)}
         
         \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{dtypes}
         
         \PY{c+c1}{\PYZsh{} included top 6 zipcodes to the dataframe}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}58}]:} bedrooms          float64
         bathrooms         float64
         sqft\_lot          float64
         sqft\_above        float64
         sqft\_basement2    float64
         sqft\_living       float64
         sqft\_living15     float64
         sqft\_lot15        float64
         price             float64
         yr\_built          float64
         yr\_renovated2     float64
         floors1.0           uint8
         floors1.5           uint8
         floors2.0           uint8
         floors2.5           uint8
         floors3.0           uint8
         floors3.5           uint8
         view0.0             uint8
         view1.0             uint8
         view2.0             uint8
         view3.0             uint8
         view4.0             uint8
         condition1          uint8
         condition2          uint8
         condition3          uint8
         condition4          uint8
         condition5          uint8
         grade3              uint8
         grade4              uint8
         grade5              uint8
         grade6              uint8
         grade7              uint8
         grade8              uint8
         grade9              uint8
         grade10             uint8
         grade11             uint8
         grade12             uint8
         grade13             uint8
         zipcode98039      float64
         zipcode98004      float64
         zipcode98040      float64
         zipcode98112      float64
         zipcode98109      float64
         zipcode98006      float64
         dtype: object
\end{Verbatim}
            
    \subsubsection{5. Ordinary Least Square Modeling - Feature
Selection}\label{ordinary-least-square-modeling---feature-selection}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}59}]:} \PY{k+kn}{import} \PY{n+nn}{statsmodels}\PY{n+nn}{.}\PY{n+nn}{formula}\PY{n+nn}{.}\PY{n+nn}{api} \PY{k}{as} \PY{n+nn}{smf}
\end{Verbatim}


    \paragraph{create a loop that runs a simple OLS regression between
continuous independent and dependent
variables}\label{create-a-loop-that-runs-a-simple-ols-regression-between-continuous-independent-and-dependent-variables}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}60}]:} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}60}]:} Index(['bedrooms', 'bathrooms', 'sqft\_lot', 'sqft\_above', 'sqft\_basement2',
                'sqft\_living', 'sqft\_living15', 'sqft\_lot15', 'yr\_built',
                'yr\_renovated2', 'floors1.0', 'floors1.5', 'floors2.0', 'floors2.5',
                'floors3.0', 'floors3.5', 'view0.0', 'view1.0', 'view2.0', 'view3.0',
                'view4.0', 'condition1', 'condition2', 'condition3', 'condition4',
                'condition5', 'grade3', 'grade4', 'grade5', 'grade6', 'grade7',
                'grade8', 'grade9', 'grade10', 'grade11', 'grade12', 'grade13',
                'zipcode98039', 'zipcode98004', 'zipcode98040', 'zipcode98112',
                'zipcode98109', 'zipcode98006'],
               dtype='object')
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}61}]:} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
Int64Index: 21022 entries, 0 to 21596
Data columns (total 44 columns):
bedrooms          21022 non-null float64
bathrooms         21022 non-null float64
sqft\_lot          21022 non-null float64
sqft\_above        21022 non-null float64
sqft\_basement2    8243 non-null float64
sqft\_living       21022 non-null float64
sqft\_living15     21022 non-null float64
sqft\_lot15        21022 non-null float64
price             21022 non-null float64
yr\_built          21022 non-null float64
yr\_renovated2     716 non-null float64
floors1.0         21022 non-null uint8
floors1.5         21022 non-null uint8
floors2.0         21022 non-null uint8
floors2.5         21022 non-null uint8
floors3.0         21022 non-null uint8
floors3.5         21022 non-null uint8
view0.0           21022 non-null uint8
view1.0           21022 non-null uint8
view2.0           21022 non-null uint8
view3.0           21022 non-null uint8
view4.0           21022 non-null uint8
condition1        21022 non-null uint8
condition2        21022 non-null uint8
condition3        21022 non-null uint8
condition4        21022 non-null uint8
condition5        21022 non-null uint8
grade3            21022 non-null uint8
grade4            21022 non-null uint8
grade5            21022 non-null uint8
grade6            21022 non-null uint8
grade7            21022 non-null uint8
grade8            21022 non-null uint8
grade9            21022 non-null uint8
grade10           21022 non-null uint8
grade11           21022 non-null uint8
grade12           21022 non-null uint8
grade13           21022 non-null uint8
zipcode98039      20462 non-null float64
zipcode98004      20462 non-null float64
zipcode98040      20462 non-null float64
zipcode98112      20462 non-null float64
zipcode98109      20462 non-null float64
zipcode98006      20462 non-null float64
dtypes: float64(17), uint8(27)
memory usage: 4.1 MB

    \end{Verbatim}

    \paragraph{OLS test}\label{ols-test}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}62}]:} \PY{n}{col\PYZus{}names} \PY{o}{=} \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bedrooms}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bathrooms}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}lot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}above}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}basement2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}living}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}living15}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}lot15}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yr\PYZus{}built}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yr\PYZus{}renovated2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
         \PY{c+c1}{\PYZsh{} all continuous variables}
         
         \PY{n}{result} \PY{o}{=} \PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ind\PYZus{}var}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r\PYZus{}squared}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{intercept}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{slope}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{p\PYZhy{}value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
         
         \PY{k}{for} \PY{n}{idx}\PY{p}{,} \PY{n}{val} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{col\PYZus{}names}\PY{p}{)}\PY{p}{:}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Kings County: price\PYZti{}}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n}{val}\PY{p}{)}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             
             \PY{n}{f} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price\PYZti{}}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{val}
             \PY{n}{model} \PY{o}{=} \PY{n}{smf}\PY{o}{.}\PY{n}{ols}\PY{p}{(}\PY{n}{formula} \PY{o}{=} \PY{n}{f}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
             \PY{n}{X\PYZus{}new} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{\PYZob{}}\PY{n}{val}\PY{p}{:}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{n}{val}\PY{p}{]}\PY{o}{.}\PY{n}{min}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{data}\PY{p}{[}\PY{n}{val}\PY{p}{]}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{p}{)}\PY{p}{]}\PY{p}{\PYZcb{}}\PY{p}{)}\PY{p}{;}
             \PY{n}{preds} \PY{o}{=} \PY{n}{model}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}new}\PY{p}{)}
             \PY{n}{result}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{[}\PY{n}{val}\PY{p}{,} \PY{n}{model}\PY{o}{.}\PY{n}{rsquared}\PY{p}{,} \PY{n}{model}\PY{o}{.}\PY{n}{params}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{model}\PY{o}{.}\PY{n}{params}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{model}\PY{o}{.}\PY{n}{pvalues}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{]}\PY{p}{)}
             \PY{n+nb}{print}\PY{p}{(}\PY{n}{result}\PY{p}{[}\PY{n}{idx}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Kings County: price\textasciitilde{}bedrooms
--------------------------
['bedrooms', 0.0981205177099922, 99749.6138028013, 130774.68097428966, 0.0]
Kings County: price\textasciitilde{}bathrooms
--------------------------
['bathrooms', 0.2749659619172119, 8891.137685670772, 251076.77858294366, 0.0]
Kings County: price\textasciitilde{}sqft\_lot
--------------------------
['sqft\_lot', 0.0076992527687405055, 527314.3648490927, 0.7766773433137957, 3.2813123940610986e-37]
Kings County: price\textasciitilde{}sqft\_above
--------------------------
['sqft\_above', 0.3642167504583439, 62173.80516230551, 267.0542633175064, 0.0]
Kings County: price\textasciitilde{}sqft\_basement2
--------------------------
['sqft\_basement2', 0.1636032658338873, 293745.81685780245, 441.86248025507075, 0.0]
Kings County: price\textasciitilde{}sqft\_living
--------------------------
['sqft\_living', 0.4920999765648114, -44567.90780378933, 281.2181768726894, 0.0]
Kings County: price\textasciitilde{}sqft\_living15
--------------------------
['sqft\_living15', 0.3434402846939969, -80452.03403900532, 311.89658467122524, 0.0]
Kings County: price\textasciitilde{}sqft\_lot15
--------------------------
['sqft\_lot15', 0.006866423289547341, 524855.2993929898, 1.1126078323771806, 2.3435571142856127e-33]
Kings County: price\textasciitilde{}yr\_built
--------------------------
['yr\_built', 0.0033198194046870633, -873157.0996920392, 716.4578556081088, 6.248241007284049e-17]
Kings County: price\textasciitilde{}yr\_renovated2
--------------------------
['yr\_renovated2', 0.014964484557409952, -9125867.626130499, 4955.3619652611815, 0.0010383698687013185]

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}63}]:} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{result}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}63}]:}                  0           1            2         3            4
         0          ind\_var   r\_squared    intercept     slope      p-value
         1         bedrooms   0.0981205      99749.6    130775            0
         2        bathrooms    0.274966      8891.14    251077            0
         3         sqft\_lot  0.00769925       527314  0.776677  3.28131e-37
         4       sqft\_above    0.364217      62173.8   267.054            0
         5   sqft\_basement2    0.163603       293746   441.862            0
         6      sqft\_living      0.4921     -44567.9   281.218            0
         7    sqft\_living15     0.34344       -80452   311.897            0
         8       sqft\_lot15  0.00686642       524855   1.11261  2.34356e-33
         9         yr\_built  0.00331982      -873157   716.458  6.24824e-17
         10   yr\_renovated2   0.0149645 -9.12587e+06   4955.36   0.00103837
\end{Verbatim}
            
    \paragraph{Log scaled OLS test}\label{log-scaled-ols-test}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}64}]:} \PY{n}{col\PYZus{}names} \PY{o}{=} \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bedrooms}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bathrooms}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}lot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}above}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}basement2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}living}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}living15}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}lot15}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yr\PYZus{}built}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yr\PYZus{}renovated2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
         \PY{c+c1}{\PYZsh{} all continuous variables}
         
         \PY{n}{result} \PY{o}{=} \PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ind\PYZus{}var}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r\PYZus{}squared}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{intercept}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{slope}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{p\PYZhy{}value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
         
         \PY{k}{for} \PY{n}{idx}\PY{p}{,} \PY{n}{val} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{col\PYZus{}names}\PY{p}{)}\PY{p}{:}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Kings County: price\PYZti{}}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n}{val}\PY{p}{)}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             
             \PY{n}{f} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price\PYZti{}}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{val}
             \PY{n}{model} \PY{o}{=} \PY{n}{smf}\PY{o}{.}\PY{n}{ols}\PY{p}{(}\PY{n}{formula} \PY{o}{=} \PY{n}{f}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data\PYZus{}log}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
             \PY{n}{X\PYZus{}new} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{\PYZob{}}\PY{n}{val}\PY{p}{:}\PY{p}{[}\PY{n}{data\PYZus{}log}\PY{p}{[}\PY{n}{val}\PY{p}{]}\PY{o}{.}\PY{n}{min}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{n}{val}\PY{p}{]}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{p}{)}\PY{p}{]}\PY{p}{\PYZcb{}}\PY{p}{)}\PY{p}{;}
             \PY{n}{preds} \PY{o}{=} \PY{n}{model}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}new}\PY{p}{)}
             \PY{n}{result}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{[}\PY{n}{val}\PY{p}{,} \PY{n}{model}\PY{o}{.}\PY{n}{rsquared}\PY{p}{,} \PY{n}{model}\PY{o}{.}\PY{n}{params}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{model}\PY{o}{.}\PY{n}{params}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{model}\PY{o}{.}\PY{n}{pvalues}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{]}\PY{p}{)}
             \PY{n+nb}{print}\PY{p}{(}\PY{n}{result}\PY{p}{[}\PY{n}{idx}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Kings County: price\textasciitilde{}bedrooms
--------------------------
['bedrooms', 0.11510294016995615, 12.295791625751189, 0.6389637441117122, 0.0]
Kings County: price\textasciitilde{}bathrooms
--------------------------
['bathrooms', 0.2684485072017887, 12.575971835445397, 0.6961523000718811, 0.0]
Kings County: price\textasciitilde{}sqft\_lot
--------------------------
['sqft\_lot', 0.018946644627817366, 12.325665369263218, 0.08020366236684418, 1.9512096638404078e-89]
Kings County: price\textasciitilde{}sqft\_above
--------------------------
['sqft\_above', 0.3415570752148941, 7.719263489084247, 0.7205176286427605, 0.0]
Kings County: price\textasciitilde{}sqft\_basement2
--------------------------
['sqft\_basement2', 0.10625998565981987, 11.466990387353496, 0.2668831117685915, 2.489258426229992e-203]
Kings County: price\textasciitilde{}sqft\_living
--------------------------
['sqft\_living', 0.45344958983726213, 6.729663190559681, 0.8368080157868791, 0.0]
Kings County: price\textasciitilde{}sqft\_living15
--------------------------
['sqft\_living15', 0.3685715295458526, 5.700023725679802, 0.9744523806264813, 0.0]
Kings County: price\textasciitilde{}sqft\_lot15
--------------------------
['sqft\_lot15', 0.015387087683309875, 12.326663984692836, 0.08034867623283037, 7.352170066017705e-73]
Kings County: price\textasciitilde{}yr\_built
--------------------------
['yr\_built', 0.006672872328516544, -8.764156731834362, 2.875066491732227, 1.8427747260912207e-32]
Kings County: price\textasciitilde{}yr\_renovated2
--------------------------
['yr\_renovated2', 0.037722801193929456, -103.15838170559567, 15.331386399686906, 1.6237298634088303e-07]

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}65}]:} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{result}\PY{p}{)}
         \PY{c+c1}{\PYZsh{} Based on the observation, *bedrooms, sqft\PYZus{}lot, sqft\PYZus{}lot15, yr\PYZus{}built, yr\PYZus{}renovated* shows significnat improved r\PYZhy{}squared values.}
         \PY{c+c1}{\PYZsh{} Other variabels r\PYZhy{}squared values seem to remain same or close to the original model.}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}65}]:}                  0           1          2          3             4
         0          ind\_var   r\_squared  intercept      slope       p-value
         1         bedrooms    0.115103    12.2958   0.638964             0
         2        bathrooms    0.268449     12.576   0.696152             0
         3         sqft\_lot   0.0189466    12.3257  0.0802037   1.95121e-89
         4       sqft\_above    0.341557    7.71926   0.720518             0
         5   sqft\_basement2     0.10626     11.467   0.266883  2.48926e-203
         6      sqft\_living     0.45345    6.72966   0.836808             0
         7    sqft\_living15    0.368572    5.70002   0.974452             0
         8       sqft\_lot15   0.0153871    12.3267  0.0803487   7.35217e-73
         9         yr\_built  0.00667287   -8.76416    2.87507   1.84277e-32
         10   yr\_renovated2   0.0377228   -103.158    15.3314   1.62373e-07
\end{Verbatim}
            
    \paragraph{sqft\_living provides the best correlation with
price!}\label{sqft_living-provides-the-best-correlation-with-price}

    \paragraph{Build a model with each categorical variable as a
predictor}\label{build-a-model-with-each-categorical-variable-as-a-predictor}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}66}]:} \PY{n}{data}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}66}]:}     price  bedrooms  bathrooms  sqft\_living  sqft\_lot floors waterfront view  \textbackslash{}
         0  221900         3       1.00         1180      5650    1.0        NaN  0.0   
         1  538000         3       2.25         2570      7242    2.0          0  0.0   
         2  180000         2       1.00          770     10000    1.0          0  0.0   
         3  604000         4       3.00         1960      5000    1.0          0  0.0   
         4  510000         3       2.00         1680      8080    1.0          0  0.0   
         
           condition grade  sqft\_above  sqft\_basement  yr\_built  yr\_renovated zipcode  \textbackslash{}
         0         3     7        1180              0      1955           0.0   98178   
         1         3     7        2170            400      1951        1991.0   98125   
         2         3     6         770              0      1933           NaN   98028   
         3         5     7        1050            910      1965           0.0   98136   
         4         3     8        1680              0      1987           0.0   98074   
         
            sqft\_living15  sqft\_lot15  sqft\_basement2  yr\_renovated2 basement\_present  \textbackslash{}
         0           1340        5650             NaN            NaN                0   
         1           1690        7639           400.0         1991.0                1   
         2           2720        8062             NaN            NaN                0   
         3           1360        5000           910.0            NaN                1   
         4           1800        7503             NaN            NaN                0   
         
           renovated  log\_price  
         0         0  12.309982  
         1         1  13.195614  
         2         0  12.100712  
         3         0  13.311329  
         4         0  13.142166  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}67}]:} \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{renovated}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{renovated}
         \PY{n}{data\PYZus{}log}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{basement\PYZus{}present}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{basement\PYZus{}present}
         \PY{c+c1}{\PYZsh{} Add these two dummy variables created}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}68}]:} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}68}]:}    bedrooms  bathrooms  sqft\_lot  sqft\_above  sqft\_basement2  sqft\_living  \textbackslash{}
         0  1.098612   0.000000  8.639411    7.073270             NaN     7.073270   
         1  1.098612   0.810930  8.887653    7.682482        5.991465     7.851661   
         2  0.693147   0.000000  9.210340    6.646391             NaN     6.646391   
         3  1.386294   1.098612  8.517193    6.956545        6.813445     7.580700   
         4  1.098612   0.693147  8.997147    7.426549             NaN     7.426549   
         
            sqft\_living15  sqft\_lot15      price  yr\_built  yr\_renovated2  floors1.0  \textbackslash{}
         0       7.200425    8.639411  12.309982  7.578145            NaN          1   
         1       7.432484    8.941022  13.195614  7.576097       7.596392          0   
         2       7.908387    8.994917  12.100712  7.566828            NaN          1   
         3       7.215240    8.517193  13.311329  7.583248            NaN          1   
         4       7.495542    8.923058  13.142166  7.594381            NaN          1   
         
            floors1.5  floors2.0  floors2.5  floors3.0  floors3.5  view0.0  view1.0  \textbackslash{}
         0          0          0          0          0          0        1        0   
         1          0          1          0          0          0        1        0   
         2          0          0          0          0          0        1        0   
         3          0          0          0          0          0        1        0   
         4          0          0          0          0          0        1        0   
         
            view2.0  view3.0  view4.0  condition1  condition2  condition3  condition4  \textbackslash{}
         0        0        0        0           0           0           1           0   
         1        0        0        0           0           0           1           0   
         2        0        0        0           0           0           1           0   
         3        0        0        0           0           0           0           0   
         4        0        0        0           0           0           1           0   
         
            condition5  grade3  grade4  grade5  grade6  grade7  grade8  grade9  \textbackslash{}
         0           0       0       0       0       0       1       0       0   
         1           0       0       0       0       0       1       0       0   
         2           0       0       0       0       1       0       0       0   
         3           1       0       0       0       0       1       0       0   
         4           0       0       0       0       0       0       1       0   
         
            grade10  grade11  grade12  grade13  zipcode98039  zipcode98004  \textbackslash{}
         0        0        0        0        0           0.0           0.0   
         1        0        0        0        0           0.0           0.0   
         2        0        0        0        0           0.0           0.0   
         3        0        0        0        0           0.0           0.0   
         4        0        0        0        0           0.0           0.0   
         
            zipcode98040  zipcode98112  zipcode98109  zipcode98006 renovated  \textbackslash{}
         0           0.0           0.0           0.0           0.0         0   
         1           0.0           0.0           0.0           0.0         1   
         2           0.0           0.0           0.0           0.0         0   
         3           0.0           0.0           0.0           0.0         0   
         4           0.0           0.0           0.0           0.0         0   
         
           basement\_present  
         0                0  
         1                1  
         2                0  
         3                1  
         4                0  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}82}]:} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}83}]:} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{columns}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}83}]:} Index(['bedrooms', 'bathrooms', 'sqft\_lot', 'sqft\_above', 'sqft\_basement2',
                'sqft\_living', 'sqft\_living15', 'sqft\_lot15', 'price', 'yr\_built',
                'yr\_renovated2', 'floors10', 'floors15', 'floors20', 'floors25',
                'floors30', 'floors35', 'view00', 'view10', 'view20', 'view30',
                'view40', 'condition1', 'condition2', 'condition3', 'condition4',
                'condition5', 'grade3', 'grade4', 'grade5', 'grade6', 'grade7',
                'grade8', 'grade9', 'grade10', 'grade11', 'grade12', 'grade13',
                'zipcode98039', 'zipcode98004', 'zipcode98040', 'zipcode98112',
                'zipcode98109', 'zipcode98006', 'renovated', 'basement\_present'],
               dtype='object')
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}84}]:} \PY{c+c1}{\PYZsh{} Use it on the log transformed model}
         \PY{c+c1}{\PYZsh{} We need to drop a one column for each categorical variables}
         
         \PY{n}{cols\PYZus{}floors} \PY{o}{=} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{11}\PY{p}{:}\PY{l+m+mi}{15}\PY{p}{]}
         \PY{n}{cols\PYZus{}view} \PY{o}{=} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{17}\PY{p}{:}\PY{l+m+mi}{20}\PY{p}{]}
         \PY{n}{cols\PYZus{}condition} \PY{o}{=} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{22}\PY{p}{:}\PY{l+m+mi}{25}\PY{p}{]}
         \PY{n}{cols\PYZus{}grade} \PY{o}{=} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{27}\PY{p}{:}\PY{l+m+mi}{36}\PY{p}{]}
         \PY{n}{cols\PYZus{}zipcode} \PY{o}{=} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{38}\PY{p}{:}\PY{l+m+mi}{42}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}85}]:} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{columns}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}85}]:} Index(['bedrooms', 'bathrooms', 'sqft\_lot', 'sqft\_above', 'sqft\_basement2',
                'sqft\_living', 'sqft\_living15', 'sqft\_lot15', 'price', 'yr\_built',
                'yr\_renovated2', 'floors10', 'floors15', 'floors20', 'floors25',
                'floors30', 'floors35', 'view00', 'view10', 'view20', 'view30',
                'view40', 'condition1', 'condition2', 'condition3', 'condition4',
                'condition5', 'grade3', 'grade4', 'grade5', 'grade6', 'grade7',
                'grade8', 'grade9', 'grade10', 'grade11', 'grade12', 'grade13',
                'zipcode98039', 'zipcode98004', 'zipcode98040', 'zipcode98112',
                'zipcode98109', 'zipcode98006', 'renovated', 'basement\_present'],
               dtype='object')
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}87}]:} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
Int64Index: 21022 entries, 0 to 21596
Data columns (total 46 columns):
bedrooms            21022 non-null float64
bathrooms           21022 non-null float64
sqft\_lot            21022 non-null float64
sqft\_above          21022 non-null float64
sqft\_basement2      8243 non-null float64
sqft\_living         21022 non-null float64
sqft\_living15       21022 non-null float64
sqft\_lot15          21022 non-null float64
price               21022 non-null float64
yr\_built            21022 non-null float64
yr\_renovated2       716 non-null float64
floors10            21022 non-null uint8
floors15            21022 non-null uint8
floors20            21022 non-null uint8
floors25            21022 non-null uint8
floors30            21022 non-null uint8
floors35            21022 non-null uint8
view00              21022 non-null uint8
view10              21022 non-null uint8
view20              21022 non-null uint8
view30              21022 non-null uint8
view40              21022 non-null uint8
condition1          21022 non-null uint8
condition2          21022 non-null uint8
condition3          21022 non-null uint8
condition4          21022 non-null uint8
condition5          21022 non-null uint8
grade3              21022 non-null uint8
grade4              21022 non-null uint8
grade5              21022 non-null uint8
grade6              21022 non-null uint8
grade7              21022 non-null uint8
grade8              21022 non-null uint8
grade9              21022 non-null uint8
grade10             21022 non-null uint8
grade11             21022 non-null uint8
grade12             21022 non-null uint8
grade13             21022 non-null uint8
zipcode98039        20462 non-null float64
zipcode98004        20462 non-null float64
zipcode98040        20462 non-null float64
zipcode98112        20462 non-null float64
zipcode98109        20462 non-null float64
zipcode98006        20462 non-null float64
renovated           21022 non-null category
basement\_present    21022 non-null category
dtypes: category(2), float64(17), uint8(27)
memory usage: 4.1 MB

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{renovated} \PY{o}{=} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{renovated}\PY{o}{.}\PY{n}{dtype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}97}]:} \PY{n}{cols} \PY{o}{=} \PY{p}{[}\PY{n}{cols\PYZus{}floors}\PY{p}{,} \PY{n}{cols\PYZus{}view}\PY{p}{,} \PY{n}{cols\PYZus{}condition}\PY{p}{,} \PY{n}{cols\PYZus{}grade}\PY{p}{,} \PY{n}{cols\PYZus{}zipcode}\PY{p}{]}
         \PY{k}{for} \PY{n}{col} \PY{o+ow}{in} \PY{n}{cols}\PY{p}{:}
             \PY{n}{sum\PYZus{}cols} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{+}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{col}\PY{p}{)}
             \PY{n}{form} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price\PYZti{}}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{sum\PYZus{}cols}    
             \PY{n}{model} \PY{o}{=} \PY{n}{smf}\PY{o}{.}\PY{n}{ols}\PY{p}{(}\PY{n}{formula}\PY{o}{=}\PY{n}{form}\PY{p}{,} \PY{n}{data} \PY{o}{=} \PY{n}{data\PYZus{}log}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
             \PY{n+nb}{print}\PY{p}{(}\PY{n}{model}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                  price   R-squared:                       0.113
Model:                            OLS   Adj. R-squared:                  0.113
Method:                 Least Squares   F-statistic:                     667.4
Date:                Mon, 11 Mar 2019   Prob (F-statistic):               0.00
Time:                        01:55:23   Log-Likelihood:                -15041.
No. Observations:               21022   AIC:                         3.009e+04
Df Residuals:                   21017   BIC:                         3.013e+04
Df Model:                           4                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P>|t|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept     13.1654      0.020    650.497      0.000      13.126      13.205
floors10      -0.2896      0.021    -13.917      0.000      -0.330      -0.249
floors15      -0.0552      0.023     -2.370      0.018      -0.101      -0.010
floors20       0.0690      0.021      3.290      0.001       0.028       0.110
floors25       0.4671      0.045     10.335      0.000       0.379       0.556
==============================================================================
Omnibus:                      793.732   Durbin-Watson:                   1.970
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              992.045
Skew:                           0.424   Prob(JB):                    3.80e-216
Kurtosis:                       3.643   Cond. No.                         18.1
==============================================================================

Warnings:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                  price   R-squared:                       0.118
Model:                            OLS   Adj. R-squared:                  0.118
Method:                 Least Squares   F-statistic:                     941.4
Date:                Mon, 11 Mar 2019   Prob (F-statistic):               0.00
Time:                        01:55:23   Log-Likelihood:                -14972.
No. Observations:               21022   AIC:                         2.995e+04
Df Residuals:                   21018   BIC:                         2.998e+04
Df Model:                           3                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P>|t|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept     13.7812      0.017    792.129      0.000      13.747      13.815
view00        -0.7914      0.018    -44.556      0.000      -0.826      -0.757
view10        -0.3224      0.032     -9.932      0.000      -0.386      -0.259
view20        -0.3496      0.024    -14.699      0.000      -0.396      -0.303
==============================================================================
Omnibus:                      328.112   Durbin-Watson:                   1.939
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              377.358
Skew:                           0.259   Prob(JB):                     1.14e-82
Kurtosis:                       3.402   Cond. No.                         15.8
==============================================================================

Warnings:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                  price   R-squared:                       0.009
Model:                            OLS   Adj. R-squared:                  0.009
Method:                 Least Squares   F-statistic:                     66.38
Date:                Mon, 11 Mar 2019   Prob (F-statistic):           1.03e-42
Time:                        01:55:23   Log-Likelihood:                -16198.
No. Observations:               21022   AIC:                         3.240e+04
Df Residuals:                   21018   BIC:                         3.244e+04
Df Model:                           3                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P>|t|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept     13.0422      0.006   2113.466      0.000      13.030      13.054
condition1    -0.5460      0.099     -5.514      0.000      -0.740      -0.352
condition2    -0.5133      0.041    -12.503      0.000      -0.594      -0.433
condition3     0.0143      0.008      1.881      0.060      -0.001       0.029
==============================================================================
Omnibus:                      871.621   Durbin-Watson:                   1.956
Prob(Omnibus):                  0.000   Jarque-Bera (JB):             1100.106
Skew:                           0.448   Prob(JB):                    1.30e-239
Kurtosis:                       3.672   Cond. No.                         33.6
==============================================================================

Warnings:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                  price   R-squared:                       0.495
Model:                            OLS   Adj. R-squared:                  0.495
Method:                 Least Squares   F-statistic:                     2291.
Date:                Mon, 11 Mar 2019   Prob (F-statistic):               0.00
Time:                        01:55:23   Log-Likelihood:                -9110.5
No. Observations:               21022   AIC:                         1.824e+04
Df Residuals:                   21012   BIC:                         1.832e+04
Df Model:                           9                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P>|t|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept     14.5660      0.038    388.221      0.000      14.493      14.640
grade3        -2.0899      0.375     -5.570      0.000      -2.825      -1.355
grade4        -2.4059      0.081    -29.683      0.000      -2.565      -2.247
grade5        -2.2369      0.045    -50.009      0.000      -2.325      -2.149
grade6        -2.0212      0.038    -52.578      0.000      -2.097      -1.946
grade7        -1.7308      0.038    -45.871      0.000      -1.805      -1.657
grade8        -1.4299      0.038    -37.795      0.000      -1.504      -1.356
grade9        -1.0798      0.038    -28.234      0.000      -1.155      -1.005
grade10       -0.7665      0.039    -19.569      0.000      -0.843      -0.690
grade11       -0.4390      0.042    -10.433      0.000      -0.521      -0.357
==============================================================================
Omnibus:                      115.476   Durbin-Watson:                   1.966
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              118.327
Skew:                           0.173   Prob(JB):                     2.02e-26
Kurtosis:                       3.126   Cond. No.                         166.
==============================================================================

Warnings:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                  price   R-squared:                       0.000
Model:                            OLS   Adj. R-squared:                  0.000
Method:                 Least Squares   F-statistic:                     1.868
Date:                Mon, 11 Mar 2019   Prob (F-statistic):              0.113
Time:                        01:55:23   Log-Likelihood:                -15890.
No. Observations:               20462   AIC:                         3.179e+04
Df Residuals:                   20457   BIC:                         3.183e+04
Df Model:                           4                                         
Covariance Type:            nonrobust                                         
================================================================================
                   coef    std err          t      P>|t|      [0.025      0.975]
--------------------------------------------------------------------------------
Intercept       13.0441      0.004   3470.663      0.000      13.037      13.051
zipcode98039    -0.0169      0.078     -0.217      0.828      -0.169       0.135
zipcode98004    -0.0722      0.031     -2.367      0.018      -0.132      -0.012
zipcode98040     0.0290      0.033      0.891      0.373      -0.035       0.093
zipcode98112    -0.0335      0.033     -1.009      0.313      -0.098       0.032
==============================================================================
Omnibus:                      778.816   Durbin-Watson:                   1.957
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              982.222
Skew:                           0.423   Prob(JB):                    5.17e-214
Kurtosis:                       3.661   Cond. No.                         21.1
==============================================================================

Warnings:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}94}]:} \PY{n}{f} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price\PYZti{}renovated}\PY{l+s+s1}{\PYZsq{}}
         \PY{n}{model} \PY{o}{=} \PY{n}{smf}\PY{o}{.}\PY{n}{ols}\PY{p}{(}\PY{n}{formula}\PY{o}{=}\PY{n}{f}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data\PYZus{}log}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{model}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                  price   R-squared:                       0.011
Model:                            OLS   Adj. R-squared:                  0.011
Method:                 Least Squares   F-statistic:                     238.2
Date:                Mon, 11 Mar 2019   Prob (F-statistic):           1.92e-53
Time:                        01:21:46   Log-Likelihood:                -16179.
No. Observations:               21022   AIC:                         3.236e+04
Df Residuals:                   21020   BIC:                         3.238e+04
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
==================================================================================
                     coef    std err          t      P>|t|      [0.025      0.975]
----------------------------------------------------------------------------------
Intercept         13.0363      0.004   3555.802      0.000      13.029      13.043
renovated[T.1]     0.3066      0.020     15.433      0.000       0.268       0.346
==============================================================================
Omnibus:                      752.351   Durbin-Watson:                   1.953
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              947.985
Skew:                           0.406   Prob(JB):                    1.41e-206
Kurtosis:                       3.651   Cond. No.                         5.52
==============================================================================

Warnings:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}95}]:} \PY{n}{f} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price\PYZti{}basement\PYZus{}present}\PY{l+s+s1}{\PYZsq{}}
         \PY{n}{model} \PY{o}{=} \PY{n}{smf}\PY{o}{.}\PY{n}{ols}\PY{p}{(}\PY{n}{formula}\PY{o}{=}\PY{n}{f}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data\PYZus{}log}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{model}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                  price   R-squared:                       0.044
Model:                            OLS   Adj. R-squared:                  0.044
Method:                 Least Squares   F-statistic:                     973.8
Date:                Mon, 11 Mar 2019   Prob (F-statistic):          5.08e-209
Time:                        01:22:21   Log-Likelihood:                -15822.
No. Observations:               21022   AIC:                         3.165e+04
Df Residuals:                   21020   BIC:                         3.166e+04
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
=========================================================================================
                            coef    std err          t      P>|t|      [0.025      0.975]
-----------------------------------------------------------------------------------------
Intercept                12.9579      0.005   2851.959      0.000      12.949      12.967
basement\_present[T.1]     0.2264      0.007     31.206      0.000       0.212       0.241
==============================================================================
Omnibus:                      805.880   Durbin-Watson:                   1.948
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              980.082
Skew:                           0.440   Prob(JB):                    1.51e-213
Kurtosis:                       3.588   Cond. No.                         2.44
==============================================================================

Warnings:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.

    \end{Verbatim}

    \paragraph{Let's drop a few columns in our data
set}\label{lets-drop-a-few-columns-in-our-data-set}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}96}]:} \PY{c+c1}{\PYZsh{} stick with log transformed data set, since it produced better r\PYZhy{}squared values}
         \PY{c+c1}{\PYZsh{} Let\PYZsq{}s drop continuous variables with r\PYZhy{}squared value \PYZlt{} 0.01}
         \PY{c+c1}{\PYZsh{} Make sure to drop 1 column for each categorical variable we end up using}
         
         \PY{c+c1}{\PYZsh{}ROW R\PYZhy{}SQUARED VALUES}
         \PY{c+c1}{\PYZsh{}yr\PYZus{}built}
         \PY{c+c1}{\PYZsh{}zipcode}
         \PY{c+c1}{\PYZsh{}condition}
         
         
         \PY{c+c1}{\PYZsh{}MULTI\PYZhy{}COLINEARLITY TEST}
         \PY{c+c1}{\PYZsh{}sqft\PYZus{}above}
         \PY{c+c1}{\PYZsh{}sqft\PYZus{}living15}
         \PY{c+c1}{\PYZsh{}sqft\PYZus{}lot15}
         \PY{c+c1}{\PYZsh{}bathrooms}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}98}]:} \PY{n}{data\PYZus{}log}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}98}]:}        bedrooms  bathrooms   sqft\_lot  sqft\_above  sqft\_basement2  \textbackslash{}
         0      1.098612   0.000000   8.639411    7.073270             NaN   
         1      1.098612   0.810930   8.887653    7.682482        5.991465   
         2      0.693147   0.000000   9.210340    6.646391             NaN   
         3      1.386294   1.098612   8.517193    6.956545        6.813445   
         4      1.098612   0.693147   8.997147    7.426549             NaN   
         5      1.386294   1.504077  11.532042    8.266164        7.333023   
         8      1.098612   0.000000   8.918650    6.956545        6.593045   
         9      1.098612   0.916291   8.788746    7.544332             NaN   
         10     1.098612   0.916291   9.189729    7.528332        7.438384   
         11     0.693147   0.000000   8.699515    6.756932        5.703782   
         12     1.098612   0.000000   9.898525    7.265430             NaN   
         13     1.098612   0.559616   9.177817    7.222566             NaN   
         14     1.609438   0.693147   8.486734    7.501082             NaN   
         15     1.386294   1.098612   8.517193    7.590852        6.877296   
         16     1.098612   0.693147   9.549666    7.544332             NaN   
         17     1.386294   0.000000   8.366370    7.377759             NaN   
         19     1.098612   0.000000   9.187481    7.130899             NaN   
         20     1.386294   0.559616   8.513185    6.756932        6.633318   
         21     1.098612   1.011601  10.711458    7.753624        6.579251   
         22     1.609438   0.916291   8.748305    7.727535             NaN   
         23     0.693147   0.405465   9.173988    6.975414             NaN   
         24     1.098612   0.810930   8.779557    7.803843             NaN   
         25     1.098612   0.693147   8.454679    7.444249             NaN   
         26     1.098612   0.559616   7.897668    7.467371        6.551080   
         27     1.098612   0.000000   7.365813    7.244228             NaN   
         28     1.098612   0.559616   8.760923    6.672033        6.593045   
         29     1.386294   0.916291   8.878079    7.851661             NaN   
         30     1.098612   0.916291   8.289037    7.749322             NaN   
         31     0.693147   0.405465   7.142827    7.081709             NaN   
         32     1.386294   0.559616   8.517193    7.319865        6.709304   
         {\ldots}         {\ldots}        {\ldots}        {\ldots}         {\ldots}             {\ldots}   
         21565  1.098612   1.098612   8.699515    7.930206             NaN   
         21566  1.098612   0.810930   7.162397    7.106606        5.634790   
         21567  0.693147   0.000000   7.053586    6.565265             NaN   
         21568  1.098612   0.916291   6.802395    6.845880        5.768321   
         21569  1.098612   0.916291   8.517193    7.533694             NaN   
         21570  0.693147   0.916291   7.090910    7.265430             NaN   
         21571  1.098612   0.916291   7.305188    7.326466             NaN   
         21572  0.693147   0.405465   7.153052    6.927558        5.247024   
         21573  1.098612   0.916291   8.468003    7.839919             NaN   
         21574  1.386294   1.252763   9.153135    8.042378        7.495542   
         21575  1.386294   1.011601   8.256348    7.926603             NaN   
         21576  1.098612   0.810930   7.090077    7.081709             NaN   
         21577  1.609438   1.321756   9.004791    8.335671             NaN   
         21578  1.386294   1.011601   8.698681    7.824046             NaN   
         21579  0.693147   0.810930   6.888572    7.299797        3.912023   
         21580  1.609438   1.011601   9.152393    8.188689             NaN   
         21582  1.386294   0.916291   8.970305    8.044947             NaN   
         21583  1.386294   1.098612   8.966739    8.291547             NaN   
         21584  1.609438   1.321756   8.998137    8.405144             NaN   
         21585  1.098612   0.916291   7.072422    7.261927             NaN   
         21586  1.098612   0.559616   9.389992    7.313220             NaN   
         21587  1.098612   0.916291   8.619027    7.727535             NaN   
         21588  1.098612   0.693147   7.026427    7.306531             NaN   
         21590  1.386294   1.252763   8.881836    7.863267        6.813445   
         21591  1.098612   0.916291   7.165493    7.073270        4.867534   
         21592  1.098612   0.916291   7.030857    7.333023             NaN   
         21593  1.386294   0.916291   8.667852    7.745003             NaN   
         21594  0.693147  -0.287682   7.207860    6.927558             NaN   
         21595  1.098612   0.916291   7.778211    7.377759             NaN   
         21596  0.693147  -0.287682   6.981006    6.927558             NaN   
         
                sqft\_living  sqft\_living15  sqft\_lot15      price  yr\_built  \textbackslash{}
         0         7.073270       7.200425    8.639411  12.309982  7.578145   
         1         7.851661       7.432484    8.941022  13.195614  7.576097   
         2         6.646391       7.908387    8.994917  12.100712  7.566828   
         3         7.580700       7.215240    8.517193  13.311329  7.583248   
         4         7.426549       7.495542    8.923058  13.142166  7.594381   
         5         8.597851       8.468003   11.532042  14.022525  7.601402   
         8         7.484369       7.484369    9.001223  12.343658  7.580700   
         9         7.544332       7.779049    8.931948  12.685408  7.602401   
         10        8.177516       7.700748    9.096612  13.403776  7.583248   
         11        7.056175       7.192934    8.699515  13.056224  7.571474   
         12        7.265430       7.484369    9.449121  12.644328  7.563720   
         13        7.222566       7.222566    9.230927  12.899220  7.589336   
         14        7.501082       7.215240    8.486734  13.180632  7.549609   
         15        7.989560       7.668561    8.294050  13.384728  7.590347   
         16        7.544332       7.544332    9.548097  12.886641  7.597898   
         17        7.377759       7.383989    8.366370  13.091904  7.557995   
         19        7.130899       7.154615    9.088173  12.345835  7.585281   
         20        7.390181       7.244228    8.513185  12.860999  7.574045   
         21        8.022897       8.321178    9.920148  14.508658  7.584773   
         22        7.727535       7.714231    8.854379  12.560244  7.598399   
         23        6.975414       7.106606    9.034319  12.439958  7.593374   
         24        7.803843       7.696213    8.834191  12.703813  7.593374   
         25        7.444249       6.937314    8.456381  12.358794  7.570959   
         26        7.803843       7.473069    8.181161  13.750439  7.557473   
         27        7.244228       7.528332    8.258681  13.410545  7.554335   
         28        7.326466       7.326466    8.737934  12.989974  7.574558   
         29        7.851661       7.874739    8.703839  13.485617  7.603399   
         30        7.749322       7.855545    8.289037  13.271645  7.602401   
         31        7.081709       7.237059    7.470794  12.542545  7.603399   
         32        7.753624       7.286192    8.517193  13.440817  7.564757   
         {\ldots}            {\ldots}            {\ldots}         {\ldots}        {\ldots}       {\ldots}   
         21565     7.930206       7.955074    8.699515  13.345507  7.607381   
         21566     7.313220       7.286192    7.226209  13.102161  7.603898   
         21567     6.565265       7.222566    7.067320  12.899095  7.571988   
         21568     7.138867       7.177782    7.254885  12.847927  7.604396   
         21569     7.533694       7.682482    8.593969  12.506177  7.605392   
         21570     7.265430       7.265430    7.130099  13.132314  7.605392   
         21571     7.326466       7.326466    7.311218  12.860999  7.603898   
         21572     7.098376       7.098376    7.019297  12.934828  7.604396   
         21573     7.839919       7.839919    8.427487  12.758520  7.605890   
         21574     8.499029       8.425078    9.311361  14.014361  7.604396   
         21575     7.926603       7.501082    8.637817  13.256894  7.607878   
         21576     7.081709       7.073270    7.109879  13.071070  7.604894   
         21577     8.335671       8.016318    8.984694  13.901688  7.603898   
         21578     7.824046       7.835975    8.697513  12.765688  7.604894   
         21579     7.333023       7.333023    7.156177  13.161584  7.603898   
         21580     8.188689       8.174703    9.150697  13.429775  7.607878   
         21582     8.044947       7.890957    8.779557  13.202652  7.607878   
         21583     8.291547       8.122668    8.826735  13.604790  7.602401   
         21584     8.405144       7.930206    9.100972  14.247293  7.604894   
         21585     7.261927       7.158514    7.133296  13.054085  7.604894   
         21586     7.313220       7.185387    9.332823  12.319401  7.607878   
         21587     7.727535       7.727535    8.653645  13.136759  7.602401   
         21588     7.306531       7.244228    7.114769  12.969212  7.607878   
         21590     8.163371       7.625595    8.732305  13.825461  7.605392   
         21591     7.177782       7.192934    7.142827  13.071070  7.604894   
         21592     7.333023       7.333023    7.319202  12.793859  7.605392   
         21593     7.745003       7.512071    8.881836  12.899220  7.607878   
         21594     6.927558       6.927558    7.604396  12.904459  7.605392   
         21595     7.377759       7.251345    7.160069  12.899220  7.602900   
         21596     6.927558       6.927558    7.213032  12.691580  7.604894   
         
                yr\_renovated2  floors10  floors15  floors20  floors25  floors30  \textbackslash{}
         0                NaN         1         0         0         0         0   
         1           7.596392         0         0         1         0         0   
         2                NaN         1         0         0         0         0   
         3                NaN         1         0         0         0         0   
         4                NaN         1         0         0         0         0   
         5                NaN         1         0         0         0         0   
         8                NaN         1         0         0         0         0   
         9                NaN         0         0         1         0         0   
         10               NaN         1         0         0         0         0   
         11               NaN         1         0         0         0         0   
         12               NaN         0         1         0         0         0   
         13               NaN         1         0         0         0         0   
         14               NaN         0         1         0         0         0   
         15               NaN         0         0         1         0         0   
         16               NaN         0         0         1         0         0   
         17               NaN         0         1         0         0         0   
         19               NaN         1         0         0         0         0   
         20               NaN         1         0         0         0         0   
         21               NaN         1         0         0         0         0   
         22               NaN         0         0         1         0         0   
         23               NaN         1         0         0         0         0   
         24               NaN         0         0         1         0         0   
         25               NaN         0         1         0         0         0   
         26               NaN         0         0         1         0         0   
         27               NaN         0         1         0         0         0   
         28               NaN         1         0         0         0         0   
         29               NaN         0         0         1         0         0   
         30               NaN         0         0         1         0         0   
         31               NaN         0         0         0         0         1   
         32               NaN         0         1         0         0         0   
         {\ldots}              {\ldots}       {\ldots}       {\ldots}       {\ldots}       {\ldots}       {\ldots}   
         21565            NaN         0         0         1         0         0   
         21566            NaN         0         0         1         0         0   
         21567            NaN         0         0         1         0         0   
         21568            NaN         0         0         1         0         0   
         21569            NaN         0         0         1         0         0   
         21570            NaN         0         0         0         0         1   
         21571            NaN         0         0         0         0         1   
         21572            NaN         0         0         1         0         0   
         21573            NaN         0         0         1         0         0   
         21574            NaN         0         1         0         0         0   
         21575            NaN         0         0         1         0         0   
         21576            NaN         0         0         0         0         1   
         21577            NaN         0         0         1         0         0   
         21578            NaN         0         0         1         0         0   
         21579            NaN         0         0         0         0         1   
         21580            NaN         0         0         1         0         0   
         21582            NaN         0         0         1         0         0   
         21583            NaN         0         0         1         0         0   
         21584            NaN         0         0         1         0         0   
         21585            NaN         0         0         0         0         1   
         21586            NaN         1         0         0         0         0   
         21587            NaN         0         0         1         0         0   
         21588            NaN         0         0         0         0         1   
         21590            NaN         0         0         1         0         0   
         21591            NaN         0         0         1         0         0   
         21592            NaN         0         0         0         0         1   
         21593            NaN         0         0         1         0         0   
         21594            NaN         0         0         1         0         0   
         21595            NaN         0         0         1         0         0   
         21596            NaN         0         0         1         0         0   
         
                floors35  view00  view10  view20  view30  view40  condition1  \textbackslash{}
         0             0       1       0       0       0       0           0   
         1             0       1       0       0       0       0           0   
         2             0       1       0       0       0       0           0   
         3             0       1       0       0       0       0           0   
         4             0       1       0       0       0       0           0   
         5             0       1       0       0       0       0           0   
         8             0       1       0       0       0       0           0   
         9             0       1       0       0       0       0           0   
         10            0       1       0       0       0       0           0   
         11            0       1       0       0       0       0           0   
         12            0       1       0       0       0       0           0   
         13            0       1       0       0       0       0           0   
         14            0       1       0       0       0       0           0   
         15            0       0       0       0       1       0           0   
         16            0       1       0       0       0       0           0   
         17            0       1       0       0       0       0           0   
         19            0       1       0       0       0       0           0   
         20            0       1       0       0       0       0           0   
         21            0       0       0       0       0       1           0   
         22            0       1       0       0       0       0           0   
         23            0       1       0       0       0       0           0   
         24            0       1       0       0       0       0           0   
         25            0       1       0       0       0       0           0   
         26            0       1       0       0       0       0           0   
         27            0       1       0       0       0       0           0   
         28            0       1       0       0       0       0           0   
         29            0       1       0       0       0       0           0   
         30            0       1       0       0       0       0           0   
         31            0       1       0       0       0       0           0   
         32            0       1       0       0       0       0           0   
         {\ldots}         {\ldots}     {\ldots}     {\ldots}     {\ldots}     {\ldots}     {\ldots}         {\ldots}   
         21565         0       1       0       0       0       0           0   
         21566         0       1       0       0       0       0           0   
         21567         0       1       0       0       0       0           0   
         21568         0       1       0       0       0       0           0   
         21569         0       1       0       0       0       0           0   
         21570         0       1       0       0       0       0           0   
         21571         0       1       0       0       0       0           0   
         21572         0       1       0       0       0       0           0   
         21573         0       1       0       0       0       0           0   
         21574         0       1       0       0       0       0           0   
         21575         0       1       0       0       0       0           0   
         21576         0       1       0       0       0       0           0   
         21577         0       0       0       1       0       0           0   
         21578         0       1       0       0       0       0           0   
         21579         0       1       0       0       0       0           0   
         21580         0       1       0       0       0       0           0   
         21582         0       0       0       1       0       0           0   
         21583         0       1       0       0       0       0           0   
         21584         0       1       0       0       0       0           0   
         21585         0       1       0       0       0       0           0   
         21586         0       1       0       0       0       0           0   
         21587         0       1       0       0       0       0           0   
         21588         0       1       0       0       0       0           0   
         21590         0       1       0       0       0       0           0   
         21591         0       1       0       0       0       0           0   
         21592         0       1       0       0       0       0           0   
         21593         0       1       0       0       0       0           0   
         21594         0       1       0       0       0       0           0   
         21595         0       1       0       0       0       0           0   
         21596         0       1       0       0       0       0           0   
         
                condition2  condition3  condition4  condition5  grade3  grade4  grade5  \textbackslash{}
         0               0           1           0           0       0       0       0   
         1               0           1           0           0       0       0       0   
         2               0           1           0           0       0       0       0   
         3               0           0           0           1       0       0       0   
         4               0           1           0           0       0       0       0   
         5               0           1           0           0       0       0       0   
         8               0           1           0           0       0       0       0   
         9               0           1           0           0       0       0       0   
         10              0           1           0           0       0       0       0   
         11              0           0           1           0       0       0       0   
         12              0           0           1           0       0       0       0   
         13              0           0           1           0       0       0       0   
         14              0           1           0           0       0       0       0   
         15              0           1           0           0       0       0       0   
         16              0           1           0           0       0       0       0   
         17              0           0           1           0       0       0       0   
         19              0           0           1           0       0       0       0   
         20              0           0           1           0       0       0       0   
         21              0           1           0           0       0       0       0   
         22              0           1           0           0       0       0       0   
         23              0           1           0           0       0       0       0   
         24              0           0           1           0       0       0       0   
         25              0           0           0           1       0       0       0   
         26              0           1           0           0       0       0       0   
         27              0           0           0           1       0       0       0   
         28              0           1           0           0       0       0       0   
         29              0           1           0           0       0       0       0   
         30              0           1           0           0       0       0       0   
         31              0           1           0           0       0       0       0   
         32              0           0           1           0       0       0       0   
         {\ldots}           {\ldots}         {\ldots}         {\ldots}         {\ldots}     {\ldots}     {\ldots}     {\ldots}   
         21565           0           1           0           0       0       0       0   
         21566           0           1           0           0       0       0       0   
         21567           0           0           1           0       0       0       0   
         21568           0           1           0           0       0       0       0   
         21569           0           1           0           0       0       0       0   
         21570           0           1           0           0       0       0       0   
         21571           0           1           0           0       0       0       0   
         21572           0           1           0           0       0       0       0   
         21573           0           1           0           0       0       0       0   
         21574           0           1           0           0       0       0       0   
         21575           0           1           0           0       0       0       0   
         21576           0           1           0           0       0       0       0   
         21577           0           1           0           0       0       0       0   
         21578           0           1           0           0       0       0       0   
         21579           0           1           0           0       0       0       0   
         21580           0           1           0           0       0       0       0   
         21582           0           1           0           0       0       0       0   
         21583           0           1           0           0       0       0       0   
         21584           0           1           0           0       0       0       0   
         21585           0           1           0           0       0       0       0   
         21586           0           1           0           0       0       0       0   
         21587           0           1           0           0       0       0       0   
         21588           0           1           0           0       0       0       0   
         21590           0           1           0           0       0       0       0   
         21591           0           1           0           0       0       0       0   
         21592           0           1           0           0       0       0       0   
         21593           0           1           0           0       0       0       0   
         21594           0           1           0           0       0       0       0   
         21595           0           1           0           0       0       0       0   
         21596           0           1           0           0       0       0       0   
         
                grade6  grade7  grade8  grade9  grade10  grade11  grade12  grade13  \textbackslash{}
         0           0       1       0       0        0        0        0        0   
         1           0       1       0       0        0        0        0        0   
         2           1       0       0       0        0        0        0        0   
         3           0       1       0       0        0        0        0        0   
         4           0       0       1       0        0        0        0        0   
         5           0       0       0       0        0        1        0        0   
         8           0       1       0       0        0        0        0        0   
         9           0       1       0       0        0        0        0        0   
         10          0       0       1       0        0        0        0        0   
         11          0       1       0       0        0        0        0        0   
         12          0       1       0       0        0        0        0        0   
         13          0       1       0       0        0        0        0        0   
         14          0       1       0       0        0        0        0        0   
         15          0       0       0       1        0        0        0        0   
         16          0       1       0       0        0        0        0        0   
         17          0       1       0       0        0        0        0        0   
         19          0       1       0       0        0        0        0        0   
         20          0       1       0       0        0        0        0        0   
         21          0       0       0       1        0        0        0        0   
         22          0       0       1       0        0        0        0        0   
         23          0       1       0       0        0        0        0        0   
         24          0       0       1       0        0        0        0        0   
         25          1       0       0       0        0        0        0        0   
         26          0       0       1       0        0        0        0        0   
         27          0       0       1       0        0        0        0        0   
         28          0       1       0       0        0        0        0        0   
         29          0       0       1       0        0        0        0        0   
         30          0       0       1       0        0        0        0        0   
         31          0       1       0       0        0        0        0        0   
         32          0       1       0       0        0        0        0        0   
         {\ldots}       {\ldots}     {\ldots}     {\ldots}     {\ldots}      {\ldots}      {\ldots}      {\ldots}      {\ldots}   
         21565       0       0       0       1        0        0        0        0   
         21566       0       0       1       0        0        0        0        0   
         21567       0       1       0       0        0        0        0        0   
         21568       0       1       0       0        0        0        0        0   
         21569       0       1       0       0        0        0        0        0   
         21570       0       0       1       0        0        0        0        0   
         21571       0       0       1       0        0        0        0        0   
         21572       0       0       1       0        0        0        0        0   
         21573       0       0       1       0        0        0        0        0   
         21574       0       0       0       0        0        1        0        0   
         21575       0       0       1       0        0        0        0        0   
         21576       0       0       1       0        0        0        0        0   
         21577       0       0       0       0        1        0        0        0   
         21578       0       0       1       0        0        0        0        0   
         21579       0       0       1       0        0        0        0        0   
         21580       0       0       0       1        0        0        0        0   
         21582       0       0       0       1        0        0        0        0   
         21583       0       0       0       1        0        0        0        0   
         21584       0       0       0       0        0        1        0        0   
         21585       0       0       1       0        0        0        0        0   
         21586       1       0       0       0        0        0        0        0   
         21587       0       0       1       0        0        0        0        0   
         21588       0       0       1       0        0        0        0        0   
         21590       0       0       0       1        0        0        0        0   
         21591       0       0       1       0        0        0        0        0   
         21592       0       0       1       0        0        0        0        0   
         21593       0       0       1       0        0        0        0        0   
         21594       0       1       0       0        0        0        0        0   
         21595       0       0       1       0        0        0        0        0   
         21596       0       1       0       0        0        0        0        0   
         
                zipcode98039  zipcode98004  zipcode98040  zipcode98112  zipcode98109  \textbackslash{}
         0               0.0           0.0           0.0           0.0           0.0   
         1               0.0           0.0           0.0           0.0           0.0   
         2               0.0           0.0           0.0           0.0           0.0   
         3               0.0           0.0           0.0           0.0           0.0   
         4               0.0           0.0           0.0           0.0           0.0   
         5               0.0           0.0           0.0           0.0           0.0   
         8               0.0           0.0           0.0           0.0           0.0   
         9               0.0           0.0           0.0           0.0           0.0   
         10              0.0           0.0           0.0           0.0           0.0   
         11              0.0           0.0           0.0           0.0           0.0   
         12              0.0           0.0           0.0           0.0           0.0   
         13              0.0           0.0           0.0           0.0           0.0   
         14              0.0           0.0           0.0           0.0           0.0   
         15              0.0           0.0           0.0           0.0           0.0   
         16              0.0           0.0           0.0           0.0           0.0   
         17              0.0           0.0           0.0           0.0           0.0   
         19              0.0           0.0           0.0           0.0           0.0   
         20              0.0           0.0           0.0           0.0           0.0   
         21              0.0           0.0           0.0           0.0           0.0   
         22              0.0           0.0           0.0           0.0           0.0   
         23              0.0           0.0           0.0           0.0           0.0   
         24              0.0           0.0           0.0           1.0           0.0   
         25              0.0           0.0           0.0           0.0           0.0   
         26              0.0           0.0           0.0           0.0           0.0   
         27              0.0           0.0           0.0           0.0           0.0   
         28              0.0           0.0           0.0           0.0           0.0   
         29              0.0           0.0           0.0           0.0           0.0   
         30              0.0           0.0           0.0           0.0           0.0   
         31              0.0           0.0           0.0           0.0           0.0   
         32              0.0           0.0           0.0           0.0           0.0   
         {\ldots}             {\ldots}           {\ldots}           {\ldots}           {\ldots}           {\ldots}   
         21565           NaN           NaN           NaN           NaN           NaN   
         21566           NaN           NaN           NaN           NaN           NaN   
         21567           NaN           NaN           NaN           NaN           NaN   
         21568           NaN           NaN           NaN           NaN           NaN   
         21569           NaN           NaN           NaN           NaN           NaN   
         21570           NaN           NaN           NaN           NaN           NaN   
         21571           NaN           NaN           NaN           NaN           NaN   
         21572           NaN           NaN           NaN           NaN           NaN   
         21573           NaN           NaN           NaN           NaN           NaN   
         21574           NaN           NaN           NaN           NaN           NaN   
         21575           NaN           NaN           NaN           NaN           NaN   
         21576           NaN           NaN           NaN           NaN           NaN   
         21577           NaN           NaN           NaN           NaN           NaN   
         21578           NaN           NaN           NaN           NaN           NaN   
         21579           NaN           NaN           NaN           NaN           NaN   
         21580           NaN           NaN           NaN           NaN           NaN   
         21582           NaN           NaN           NaN           NaN           NaN   
         21583           NaN           NaN           NaN           NaN           NaN   
         21584           NaN           NaN           NaN           NaN           NaN   
         21585           NaN           NaN           NaN           NaN           NaN   
         21586           NaN           NaN           NaN           NaN           NaN   
         21587           NaN           NaN           NaN           NaN           NaN   
         21588           NaN           NaN           NaN           NaN           NaN   
         21590           NaN           NaN           NaN           NaN           NaN   
         21591           NaN           NaN           NaN           NaN           NaN   
         21592           NaN           NaN           NaN           NaN           NaN   
         21593           NaN           NaN           NaN           NaN           NaN   
         21594           NaN           NaN           NaN           NaN           NaN   
         21595           NaN           NaN           NaN           NaN           NaN   
         21596           NaN           NaN           NaN           NaN           NaN   
         
                zipcode98006 renovated basement\_present  
         0               0.0         0                0  
         1               0.0         1                1  
         2               0.0         0                0  
         3               0.0         0                1  
         4               0.0         0                0  
         5               0.0         0                1  
         8               0.0         0                1  
         9               0.0         0                0  
         10              0.0         0                1  
         11              0.0         0                1  
         12              0.0         0                0  
         13              0.0         0                0  
         14              0.0         0                0  
         15              0.0         0                1  
         16              0.0         0                0  
         17              0.0         0                0  
         19              0.0         0                0  
         20              0.0         0                1  
         21              0.0         0                1  
         22              0.0         0                0  
         23              0.0         0                0  
         24              0.0         0                0  
         25              0.0         0                0  
         26              0.0         0                1  
         27              0.0         0                0  
         28              0.0         0                1  
         29              0.0         0                0  
         30              0.0         0                0  
         31              0.0         0                0  
         32              0.0         0                1  
         {\ldots}             {\ldots}       {\ldots}              {\ldots}  
         21565           NaN         0                0  
         21566           NaN         0                1  
         21567           NaN         0                0  
         21568           NaN         0                1  
         21569           NaN         0                0  
         21570           NaN         0                0  
         21571           NaN         0                0  
         21572           NaN         0                1  
         21573           NaN         0                0  
         21574           NaN         0                1  
         21575           NaN         0                0  
         21576           NaN         0                0  
         21577           NaN         0                0  
         21578           NaN         0                0  
         21579           NaN         0                1  
         21580           NaN         0                0  
         21582           NaN         0                0  
         21583           NaN         0                0  
         21584           NaN         0                0  
         21585           NaN         0                0  
         21586           NaN         0                0  
         21587           NaN         0                0  
         21588           NaN         0                0  
         21590           NaN         0                1  
         21591           NaN         0                1  
         21592           NaN         0                0  
         21593           NaN         0                0  
         21594           NaN         0                0  
         21595           NaN         0                0  
         21596           NaN         0                0  
         
         [21022 rows x 46 columns]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}107}]:} \PY{n}{data\PYZus{}log\PYZus{}final} \PY{o}{=} \PY{n}{data\PYZus{}log}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yr\PYZus{}built}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}above}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}above}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}living15}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}lot15}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bathrooms}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sqft\PYZus{}basement2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yr\PYZus{}renovated2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
          
          \PY{n}{data\PYZus{}log\PYZus{}final} \PY{o}{=} \PY{n}{data\PYZus{}log\PYZus{}final}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{data\PYZus{}log\PYZus{}final}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{22}\PY{p}{:}\PY{l+m+mi}{26}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
          \PY{n}{data\PYZus{}log\PYZus{}final} \PY{o}{=} \PY{n}{data\PYZus{}log\PYZus{}final}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{data\PYZus{}log\PYZus{}final}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{38}\PY{p}{:}\PY{l+m+mi}{43}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}109}]:} \PY{n}{data\PYZus{}log\PYZus{}final}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{subset}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode98039}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}110}]:} \PY{n}{data\PYZus{}log\PYZus{}final}\PY{o}{.}\PY{n}{isna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}110}]:} bedrooms            0
          sqft\_lot            0
          sqft\_living         0
          price               0
          floors10            0
          floors15            0
          floors20            0
          floors25            0
          floors30            0
          floors35            0
          view00              0
          view10              0
          view20              0
          view30              0
          view40              0
          condition1          0
          condition2          0
          condition3          0
          condition4          0
          condition5          0
          grade3              0
          grade4              0
          grade9              0
          grade10             0
          grade11             0
          grade12             0
          grade13             0
          zipcode98039        0
          zipcode98004        0
          zipcode98040        0
          zipcode98112        0
          zipcode98109        0
          zipcode98006        0
          renovated           0
          basement\_present    0
          dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}111}]:} \PY{n}{data\PYZus{}log\PYZus{}final}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}111}]:}            bedrooms      sqft\_lot   sqft\_living         price      floors10  \textbackslash{}
          count  20462.000000  20462.000000  20462.000000  20462.000000  20462.000000   
          mean       1.174452      9.009571      7.545492     13.042935      0.507575   
          std        0.278677      0.890776      0.421776      0.526138      0.499955   
          min        0.000000      6.253829      5.913503     11.264464      0.000000   
          25\%        1.098612      8.538955      7.258412     12.676076      0.000000   
          50\%        1.098612      8.948001      7.549609     13.017003      1.000000   
          75\%        1.386294      9.287301      7.835975     13.369223      1.000000   
          max        1.791759     14.317109      9.396820     15.856731      1.000000   
          
                     floors15      floors20      floors25      floors30      floors35  \textbackslash{}
          count  20462.000000  20462.000000  20462.000000  20462.000000  20462.000000   
          mean       0.090314      0.370247      0.006891      0.024680      0.000293   
          std        0.286638      0.482883      0.082726      0.155151      0.017122   
          min        0.000000      0.000000      0.000000      0.000000      0.000000   
          25\%        0.000000      0.000000      0.000000      0.000000      0.000000   
          50\%        0.000000      0.000000      0.000000      0.000000      0.000000   
          75\%        0.000000      1.000000      0.000000      0.000000      0.000000   
          max        1.000000      1.000000      1.000000      1.000000      1.000000   
          
                       view00        view10        view20        view30        view40  \textbackslash{}
          count  20462.000000  20462.000000  20462.000000  20462.000000  20462.000000   
          mean       0.901329      0.015590      0.044228      0.023898      0.014955   
          std        0.298227      0.123885      0.205607      0.152735      0.121374   
          min        0.000000      0.000000      0.000000      0.000000      0.000000   
          25\%        1.000000      0.000000      0.000000      0.000000      0.000000   
          50\%        1.000000      0.000000      0.000000      0.000000      0.000000   
          75\%        1.000000      0.000000      0.000000      0.000000      0.000000   
          max        1.000000      1.000000      1.000000      1.000000      1.000000   
          
                   condition1    condition2    condition3    condition4    condition5  \textbackslash{}
          count  20462.000000  20462.000000  20462.000000  20462.000000  20462.000000   
          mean       0.001368      0.008113      0.639820      0.269866      0.080833   
          std        0.036967      0.089706      0.480064      0.443901      0.272585   
          min        0.000000      0.000000      0.000000      0.000000      0.000000   
          25\%        0.000000      0.000000      0.000000      0.000000      0.000000   
          50\%        0.000000      0.000000      1.000000      0.000000      0.000000   
          75\%        0.000000      0.000000      1.000000      1.000000      0.000000   
          max        1.000000      1.000000      1.000000      1.000000      1.000000   
          
                       grade3        grade4        grade9       grade10       grade11  \textbackslash{}
          count  20462.000000  20462.000000  20462.000000  20462.000000  20462.000000   
          mean       0.000049      0.001320      0.117828      0.051168      0.017985   
          std        0.006991      0.036302      0.322412      0.220346      0.132898   
          min        0.000000      0.000000      0.000000      0.000000      0.000000   
          25\%        0.000000      0.000000      0.000000      0.000000      0.000000   
          50\%        0.000000      0.000000      0.000000      0.000000      0.000000   
          75\%        0.000000      0.000000      0.000000      0.000000      0.000000   
          max        1.000000      1.000000      1.000000      1.000000      1.000000   
          
                      grade12       grade13  zipcode98039  zipcode98004  zipcode98040  \textbackslash{}
          count  20462.000000  20462.000000  20462.000000  20462.000000  20462.000000   
          mean       0.004056      0.000635      0.002248      0.014759      0.012951   
          std        0.063561      0.025198      0.047362      0.120590      0.113065   
          min        0.000000      0.000000      0.000000      0.000000      0.000000   
          25\%        0.000000      0.000000      0.000000      0.000000      0.000000   
          50\%        0.000000      0.000000      0.000000      0.000000      0.000000   
          75\%        0.000000      0.000000      0.000000      0.000000      0.000000   
          max        1.000000      1.000000      1.000000      1.000000      1.000000   
          
                 zipcode98112  zipcode98109  zipcode98006  
          count  20462.000000  20462.000000  20462.000000  
          mean       0.012462      0.005083      0.023165  
          std        0.110939      0.071113      0.150431  
          min        0.000000      0.000000      0.000000  
          25\%        0.000000      0.000000      0.000000  
          50\%        0.000000      0.000000      0.000000  
          75\%        0.000000      0.000000      0.000000  
          max        1.000000      1.000000      1.000000  
\end{Verbatim}
            
    \subsubsection{6. Feature Recursive Elimination
Method}\label{feature-recursive-elimination-method}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}112}]:} \PY{n}{y} \PY{o}{=} \PY{n}{data\PYZus{}log\PYZus{}final}\PY{p}{[}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{]}
          \PY{n}{X} \PY{o}{=} \PY{n}{data\PYZus{}log\PYZus{}final}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
          \PY{n}{X}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}112}]:}    bedrooms  sqft\_lot  sqft\_living  floors10  floors15  floors20  floors25  \textbackslash{}
          0  1.098612  8.639411     7.073270         1         0         0         0   
          1  1.098612  8.887653     7.851661         0         0         1         0   
          2  0.693147  9.210340     6.646391         1         0         0         0   
          3  1.386294  8.517193     7.580700         1         0         0         0   
          4  1.098612  8.997147     7.426549         1         0         0         0   
          
             floors30  floors35  view00  view10  view20  view30  view40  condition1  \textbackslash{}
          0         0         0       1       0       0       0       0           0   
          1         0         0       1       0       0       0       0           0   
          2         0         0       1       0       0       0       0           0   
          3         0         0       1       0       0       0       0           0   
          4         0         0       1       0       0       0       0           0   
          
             condition2  condition3  condition4  condition5  grade3  grade4  grade9  \textbackslash{}
          0           0           1           0           0       0       0       0   
          1           0           1           0           0       0       0       0   
          2           0           1           0           0       0       0       0   
          3           0           0           0           1       0       0       0   
          4           0           1           0           0       0       0       0   
          
             grade10  grade11  grade12  grade13  zipcode98039  zipcode98004  \textbackslash{}
          0        0        0        0        0           0.0           0.0   
          1        0        0        0        0           0.0           0.0   
          2        0        0        0        0           0.0           0.0   
          3        0        0        0        0           0.0           0.0   
          4        0        0        0        0           0.0           0.0   
          
             zipcode98040  zipcode98112  zipcode98109  zipcode98006 renovated  \textbackslash{}
          0           0.0           0.0           0.0           0.0         0   
          1           0.0           0.0           0.0           0.0         1   
          2           0.0           0.0           0.0           0.0         0   
          3           0.0           0.0           0.0           0.0         0   
          4           0.0           0.0           0.0           0.0         0   
          
            basement\_present  
          0                0  
          1                1  
          2                0  
          3                1  
          4                0  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}117}]:} \PY{n+nb}{len}\PY{p}{(}\PY{n}{data\PYZus{}log\PYZus{}final}\PY{o}{.}\PY{n}{columns}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}117}]:} 35
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}113}]:} \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{feature\PYZus{}selection} \PY{k}{import} \PY{n}{RFE}
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{linear\PYZus{}model} \PY{k}{import} \PY{n}{LinearRegression}
          \PY{n}{linreg} \PY{o}{=} \PY{n}{LinearRegression}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}121}]:} \PY{n}{r\PYZus{}list} \PY{o}{=} \PY{p}{[}\PY{p}{]}
          \PY{n}{adj\PYZus{}r\PYZus{}list} \PY{o}{=} \PY{p}{[}\PY{p}{]}
          \PY{n}{list\PYZus{}n} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{35}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
          \PY{k}{for} \PY{n}{n} \PY{o+ow}{in} \PY{n}{list\PYZus{}n}\PY{p}{:} 
              \PY{n}{select\PYZus{}n} \PY{o}{=} \PY{n}{RFE}\PY{p}{(}\PY{n}{linreg}\PY{p}{,} \PY{n}{n\PYZus{}features\PYZus{}to\PYZus{}select} \PY{o}{=} \PY{n}{n}\PY{p}{)}
              \PY{n}{select\PYZus{}n} \PY{o}{=} \PY{n}{select\PYZus{}n}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{ravel}\PY{p}{(}\PY{n}{y}\PY{p}{)}\PY{p}{)}
              \PY{n}{selected\PYZus{}columns} \PY{o}{=} \PY{n}{X}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{select\PYZus{}n}\PY{o}{.}\PY{n}{support\PYZus{}} \PY{p}{]}
              \PY{n}{linreg}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X}\PY{p}{[}\PY{n}{selected\PYZus{}columns}\PY{p}{]}\PY{p}{,}\PY{n}{y}\PY{p}{)}
              \PY{n}{yhat} \PY{o}{=} \PY{n}{linreg}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X}\PY{p}{[}\PY{n}{selected\PYZus{}columns}\PY{p}{]}\PY{p}{)}
              \PY{n}{SS\PYZus{}Residual} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{(}\PY{n}{y}\PY{o}{\PYZhy{}}\PY{n}{yhat}\PY{p}{)}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2}\PY{p}{)}
              \PY{n}{SS\PYZus{}Total} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{(}\PY{n}{y}\PY{o}{\PYZhy{}}\PY{n}{np}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{n}{y}\PY{p}{)}\PY{p}{)}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2}\PY{p}{)}
              \PY{n}{r\PYZus{}squared} \PY{o}{=} \PY{l+m+mi}{1} \PY{o}{\PYZhy{}} \PY{p}{(}\PY{n+nb}{float}\PY{p}{(}\PY{n}{SS\PYZus{}Residual}\PY{p}{)}\PY{p}{)}\PY{o}{/}\PY{n}{SS\PYZus{}Total}
              \PY{n+nb}{print}\PY{p}{(}\PY{n}{r\PYZus{}squared}\PY{p}{)}
              \PY{n}{adjusted\PYZus{}r\PYZus{}squared} \PY{o}{=} \PY{l+m+mi}{1} \PY{o}{\PYZhy{}} \PY{p}{(}\PY{l+m+mi}{1}\PY{o}{\PYZhy{}}\PY{n}{r\PYZus{}squared}\PY{p}{)}\PY{o}{*}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{y}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{/}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{y}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{n}{X}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{)}
              \PY{n+nb}{print}\PY{p}{(}\PY{n}{adjusted\PYZus{}r\PYZus{}squared}\PY{p}{)}
          \PY{n}{r\PYZus{}list}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{r\PYZus{}squared}\PY{p}{)}
          \PY{n}{adj\PYZus{}r\PYZus{}list}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{adjusted\PYZus{}r\PYZus{}squared}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
price    0.009052
dtype: float64
price    0.007402
dtype: float64
price    0.50555
dtype: float64
price    0.504727
dtype: float64
price    0.549056
dtype: float64
price    0.548306
dtype: float64
price    0.566126
dtype: float64
price    0.565404
dtype: float64
price    0.569048
dtype: float64
price    0.568331
dtype: float64
price    0.580651
dtype: float64
price    0.579953
dtype: float64
price    0.585964
dtype: float64
price    0.585275
dtype: float64
-----------------------------

    \end{Verbatim}

    \paragraph{The difference between \^{}2 and adjusted \^{}2 is
negligible, and seems to continue to be going up as we include more
features. In order to identify this, let's rerun a similar experiment,
but using a train test
split!}\label{the-difference-between-ux1d4452-and-adjusted-ux1d4452-is-negligible-and-seems-to-continue-to-be-going-up-as-we-include-more-features.-in-order-to-identify-this-lets-rerun-a-similar-experiment-but-using-a-train-test-split}

    \subsubsection{7. Test Multiple Multivariate Linear Regression
models}\label{test-multiple-multivariate-linear-regression-models}

\paragraph{Split Train - Test / 20 -30}\label{split-train---test-20--30}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}122}]:} \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{train\PYZus{}test\PYZus{}split}
          \PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{X\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}test} \PY{o}{=} \PY{n}{train\PYZus{}test\PYZus{}split}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{y}\PY{p}{,} \PY{n}{test\PYZus{}size} \PY{o}{=} \PY{l+m+mf}{0.2}\PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{)}
          
          \PY{n}{MSE\PYZus{}test} \PY{o}{=} \PY{p}{[}\PY{p}{]}
          \PY{n}{MSE\PYZus{}train} \PY{o}{=} \PY{p}{[}\PY{p}{]}
          \PY{n}{list\PYZus{}n} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{35}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
          \PY{k}{for} \PY{n}{n} \PY{o+ow}{in} \PY{n}{list\PYZus{}n}\PY{p}{:} 
              \PY{n}{select\PYZus{}n} \PY{o}{=} \PY{n}{RFE}\PY{p}{(}\PY{n}{linreg}\PY{p}{,} \PY{n}{n\PYZus{}features\PYZus{}to\PYZus{}select} \PY{o}{=} \PY{n}{n}\PY{p}{)}
              \PY{n}{select\PYZus{}n} \PY{o}{=} \PY{n}{select\PYZus{}n}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{ravel}\PY{p}{(}\PY{n}{y\PYZus{}train}\PY{p}{)}\PY{p}{)}
              \PY{n}{selected\PYZus{}columns} \PY{o}{=} \PY{n}{X}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{select\PYZus{}n}\PY{o}{.}\PY{n}{support\PYZus{}} \PY{p}{]}
              \PY{n}{linreg}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{[}\PY{n}{selected\PYZus{}columns}\PY{p}{]}\PY{p}{,}\PY{n}{y\PYZus{}train}\PY{p}{)}
              \PY{n}{yhat\PYZus{}train} \PY{o}{=} \PY{n}{linreg}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{[}\PY{n}{selected\PYZus{}columns}\PY{p}{]}\PY{p}{)}
              \PY{n}{yhat\PYZus{}test} \PY{o}{=} \PY{n}{linreg}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{[}\PY{n}{selected\PYZus{}columns}\PY{p}{]}\PY{p}{)}
              \PY{n}{mse\PYZus{}train} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{(}\PY{n}{y\PYZus{}train}\PY{o}{\PYZhy{}}\PY{n}{yhat\PYZus{}train}\PY{p}{)}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2}\PY{p}{)}\PY{o}{/}\PY{n+nb}{len}\PY{p}{(}\PY{n}{y\PYZus{}train}\PY{p}{)}
              \PY{n}{mse\PYZus{}test} \PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{o}{\PYZhy{}}\PY{n}{yhat\PYZus{}test}\PY{p}{)}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2}\PY{p}{)}\PY{o}{/}\PY{n+nb}{len}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{)}
              \PY{n+nb}{print}\PY{p}{(}\PY{n}{mse\PYZus{}train}\PY{p}{)}
              \PY{n+nb}{print}\PY{p}{(}\PY{n}{mse\PYZus{}test}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
price    0.274532
dtype: float64
price    0.273475
dtype: float64
price    0.13666
dtype: float64
price    0.137818
dtype: float64
price    0.124847
dtype: float64
price    0.124849
dtype: float64
price    0.118807
dtype: float64
price    0.11924
dtype: float64
price    0.116358
dtype: float64
price    0.116511
dtype: float64
price    0.114717
dtype: float64
price    0.114518
dtype: float64
price    0.114711
dtype: float64
price    0.114533
dtype: float64
-----------------------------

    \end{Verbatim}

    \paragraph{MSE keeps improving when we add variables. It seems like a
bigger model improves our performance, and the test and train
performance don't really
diverge.}\label{mse-keeps-improving-when-we-add-variables.-it-seems-like-a-bigger-model-improves-our-performance-and-the-test-and-train-performance-dont-really-diverge.}

    \subsubsection{8. Model Validation}\label{model-validation}

\paragraph{10-fold cross validation with the final
model}\label{fold-cross-validation-with-the-final-model}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}123}]:} \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{import} \PY{n}{mean\PYZus{}squared\PYZus{}error}
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{cross\PYZus{}val\PYZus{}score}
          
          \PY{c+c1}{\PYZsh{} select 85 best predictors}
          
          \PY{n}{select\PYZus{}85} \PY{o}{=} \PY{n}{RFE}\PY{p}{(}\PY{n}{linreg}\PY{p}{,} \PY{n}{n\PYZus{}features\PYZus{}to\PYZus{}select} \PY{o}{=} \PY{l+m+mi}{85}\PY{p}{)}
          \PY{n}{select\PYZus{}85} \PY{o}{=} \PY{n}{select\PYZus{}n}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{ravel}\PY{p}{(}\PY{n}{y}\PY{p}{)}\PY{p}{)}
          \PY{n}{selected\PYZus{}columns} \PY{o}{=} \PY{n}{X}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{select\PYZus{}n}\PY{o}{.}\PY{n}{support\PYZus{}}\PY{p}{]}
          
          \PY{n}{cv\PYZus{}10\PYZus{}results} \PY{o}{=} \PY{n}{cross\PYZus{}val\PYZus{}score}\PY{p}{(}\PY{n}{linreg}\PY{p}{,} \PY{n}{X}\PY{p}{[}\PY{n}{selected\PYZus{}columns}\PY{p}{]}\PY{p}{,} \PY{n}{y}\PY{p}{,} \PY{n}{cv}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{,} \PY{n}{scoring}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{neg\PYZus{}mean\PYZus{}squared\PYZus{}error}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
          
          \PY{n}{cv\PYZus{}10\PYZus{}results}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}123}]:} array([-1.13488122e-01, -2.93532175e+11, -1.18433990e-01, -1.17964277e-01,
                 -1.19264926e-01, -1.13430325e-01, -1.17326261e-01, -1.21063624e-01,
                 -1.16034098e-01, -8.92917206e-02])
\end{Verbatim}
            
    \paragraph{most of MSE values are managable except the last
one}\label{most-of-mse-values-are-managable-except-the-last-one}


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
